!function(n){var i={};function s(t){if(i[t])return i[t].exports;var e=i[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,s),e.l=!0,e.exports}s.m=n,s.c=i,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(n,i,function(t){return e[t]}.bind(null,i));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=226)}({0:function(t,e){t.exports=Vue},1:function(t,e,n){"use strict";var i=n(0),s=n.n(i),o="--";function r(t,e,n){return e?t+n+e:t}function a(n){return function(t,e){return t&&"string"!=typeof t&&(e=t,t=""),t=r(n,t,"__"),e?[t,function e(n,i){if("string"==typeof i)return r(n,i,o);if(Array.isArray(i))return i.map(function(t){return e(n,t)});var s={};return i&&Object.keys(i).forEach(function(t){s[n+o+t]=i[t]}),s}(t,e)]:t}}Object.prototype.hasOwnProperty;var c=s.a.prototype,u=s.a.util.defineReactive;u(c,"$vantLang","zh-CN"),u(c,"$vantMessages",{"zh-CN":{name:"姓名",tel:"电话",save:"保存",confirm:"确认",cancel:"取消",delete:"删除",complete:"完成",loading:"加载中...",telEmpty:"请填写电话",nameEmpty:"请填写姓名",confirmDelete:"确定要删除么",telInvalid:"请填写正确的电话",vanContactCard:{addText:"添加联系人"},vanContactList:{addText:"新建联系人"},vanPagination:{prev:"上一页",next:"下一页"},vanPullRefresh:{pulling:"下拉即可刷新...",loosing:"释放即可刷新..."},vanSubmitBar:{label:"合计："},vanCoupon:{valid:"有效期",unlimited:"无使用门槛",discount:function(t){return t+"折"},condition:function(t){return"满"+t+"元可用"}},vanCouponCell:{title:"优惠券",tips:"使用优惠",count:function(t){return t+"张可用"}},vanCouponList:{empty:"暂无优惠券",exchange:"兑换",close:"不使用优惠",enable:"可使用优惠券",disabled:"不可使用优惠券",placeholder:"请输入优惠码"},vanAddressEdit:{area:"地区",postal:"邮政编码",areaEmpty:"请选择地区",addressEmpty:"请填写详细地址",postalEmpty:"邮政编码格式不正确",defaultAddress:"设为默认收货地址",telPlaceholder:"收货人手机号",namePlaceholder:"收货人姓名",areaPlaceholder:"选择省 / 市 / 区"},vanAddressEditDetail:{label:"详细地址",placeholder:"街道门牌、楼层房间号等信息"},vanAddressList:{add:"新增地址"}}});var l=function(){return c.$vantMessages[c.$vantLang]},f={methods:{slots:function(t,e){void 0===t&&(t="default");var n=this.$slots,i=this.$scopedSlots;return i[t]?i[t](e):n[t]}}},d={type:Array,default:function(){return[]}},h={type:Number,default:0};function p(t){var e=this.name;t.component(e,this),t.component(T("-"+e),this)}function v(n){return{functional:!0,props:n.props,model:n.model,render:function(t,e){return n(t,e.props,function(t){var e=t.scopedSlots||t.data.scopedSlots||{},n=t.slots();return Object.keys(n).forEach(function(t){e[t]||(e[t]=function(){return n[t]})}),e}(e),e)}}}function b(e){return function(t){return"function"==typeof t&&(t=v(t)),t.functional||(t.mixins=t.mixins||[],t.mixins.push(f)),t.props&&function(e){Object.keys(e).forEach(function(t){e[t]===Array?e[t]=d:e[t]===Number&&(e[t]=h)})}(t.props),t.name=e,t.install=p,t}}function m(t){return[b(t="van-"+t),a(t),function(t){var o=T(t)+".";return function(t){for(var e=_(l(),o+t)||_(l(),t),n=arguments.length,i=new Array(1<n?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];return"function"==typeof e?e.apply(void 0,i):e}}(t)]}n.d(e,"e",function(){return g}),n.d(e,"c",function(){return y}),n.d(e,"d",function(){return w}),n.d(e,"b",function(){return _}),n.d(e,"a",function(){return T}),n.d(e,"f",function(){return m});var g=s.a.prototype.$isServer;function y(t){return null!=t}function w(t){var e=typeof t;return null!==t&&("object"==e||"function"==e)}function _(t,e){var n=e.split("."),i=t;return n.forEach(function(t){i=y(i[t])?i[t]:""}),i}var C=/-(\w)/g;function T(t){return t.replace(C,function(t,e){return e.toUpperCase()})}},10:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={data:function(){return{parent:null}},methods:{findParent:function(t){for(var e=this.$parent;e;){if(e.$options.name===t){this.parent=e;break}e=e.$parent}}}}},11:function(t,e,n){"use strict";var i=n(1),s=n(10),o=Object(i.f)("tab"),r=o[0],a=o[1];e.a=r({mixins:[s.a],props:{title:String,disabled:Boolean},data:function(){return{inited:!1}},computed:{index:function(){return this.parent.tabs.indexOf(this)},selected:function(){return this.index===this.parent.curActive}},watch:{"parent.curActive":function(){this.inited=this.inited||this.selected},title:function(){this.parent.setLine()}},created:function(){this.findParent("van-tabs")},mounted:function(){var t=this.parent.tabs,e=this.parent.slots().indexOf(this.$vnode);t.splice(-1===e?t.length:e,0,this),this.slots("title")&&this.parent.renderTitle(this.$refs.title,this.index)},beforeDestroy:function(){this.parent.tabs.splice(this.index,1)},render:function(t){var e=this.slots,n=this.inited||!this.parent.lazyRender;return t("div",{directives:[{name:"show",value:this.selected||this.parent.animated}],class:a("pane")},[n?e():t(),e("title")&&t("div",{ref:"title"},[e("title")])])}})},12:function(t,e,n){"use strict";var l=n(1),r=n(13),a=n(3),i=n(7),c=n(4),s=Object(l.f)("tabs"),o=s[0],u=s[1],f=Object(l.f)("tab")[1];e.a=o({mixins:[i.a],model:{prop:"active"},props:{color:String,sticky:Boolean,animated:Boolean,offsetTop:Number,swipeable:Boolean,background:String,titleActiveColor:String,titleInactiveColor:String,ellipsis:{type:Boolean,default:!0},lazyRender:{type:Boolean,default:!0},lineWidth:{type:Number,default:null},lineHeight:{type:Number,default:null},active:{type:[Number,String],default:0},type:{type:String,default:"line"},duration:{type:Number,default:.3},swipeThreshold:{type:Number,default:4}},data:function(){return{tabs:[],position:"",curActive:null,lineStyle:{backgroundColor:this.color},events:{resize:!1,sticky:!1,swipeable:!1}}},computed:{scrollable:function(){return this.tabs.length>this.swipeThreshold||!this.ellipsis},wrapStyle:function(){switch(this.position){case"top":return{top:this.offsetTop+"px",position:"fixed"};case"bottom":return{top:"auto",bottom:0};default:return null}},navStyle:function(){return{borderColor:this.color,background:this.background}},trackStyle:function(){if(this.animated)return{left:-1*this.curActive*100+"%",transitionDuration:this.duration+"s"}}},watch:{active:function(t){t!==this.curActive&&this.correctActive(t)},color:function(){this.setLine()},tabs:function(){this.correctActive(this.curActive||this.active),this.scrollIntoView(),this.setLine()},curActive:function(){this.scrollIntoView(),this.setLine(),"top"!==this.position&&"bottom"!==this.position||Object(c.e)(window,Object(c.a)(this.$el)-this.offsetTop)},sticky:function(){this.handlers(!0)},swipeable:function(){this.handlers(!0)}},mounted:function(){this.onShow()},activated:function(){this.onShow(),this.setLine()},deactivated:function(){this.handlers(!1)},beforeDestroy:function(){this.handlers(!1)},methods:{onShow:function(){var t=this;this.$nextTick(function(){t.inited=!0,t.handlers(!0),t.scrollIntoView(!0)})},handlers:function(t){var e=this.events,n=this.sticky&&t,i=this.swipeable&&t;if(e.resize!==t&&((e.resize=t)?a.b:a.a)(window,"resize",this.setLine,!0),e.sticky!==n&&(e.sticky=n,this.scrollEl=this.scrollEl||Object(c.b)(this.$el),(n?a.b:a.a)(this.scrollEl,"scroll",this.onScroll,!0),this.onScroll()),e.swipeable!==i){e.swipeable=i;var s=this.$refs.content,o=i?a.b:a.a;o(s,"touchstart",this.touchStart),o(s,"touchmove",this.touchMove),o(s,"touchend",this.onTouchEnd),o(s,"touchcancel",this.onTouchEnd)}},onTouchEnd:function(){var t=this.direction,e=this.deltaX,n=this.curActive;"horizontal"===t&&50<=this.offsetX&&(0<e&&0!==n?this.setCurActive(n-1):e<0&&n!==this.tabs.length-1&&this.setCurActive(n+1))},onScroll:function(){var t=Object(c.c)(window)+this.offsetTop,e=Object(c.a)(this.$el),n=e+this.$el.offsetHeight-this.$refs.wrap.offsetHeight;this.position=n<t?"bottom":e<t?"top":"";var i={scrollTop:t,isFixed:"top"===this.position};this.$emit("scroll",i)},setLine:function(){var c=this,u=this.inited;this.$nextTick(function(){var t=c.$refs.tabs;if(t&&t[c.curActive]&&"line"===c.type){var e=t[c.curActive],n=c.lineWidth,i=c.lineHeight,s=Object(l.c)(n)?n:e.offsetWidth/2,o=e.offsetLeft+(e.offsetWidth-s)/2,r={width:s+"px",backgroundColor:c.color,transform:"translateX("+o+"px)"};if(u&&(r.transitionDuration=c.duration+"s"),Object(l.c)(i)){var a=i+"px";r.height=a,r.borderRadius=a}c.lineStyle=r}})},correctActive:function(e){e=+e;var t=this.tabs.some(function(t){return t.index===e}),n=(this.tabs[0]||{}).index||0;this.setCurActive(t?e:n)},setCurActive:function(t){t=this.findAvailableTab(t,t<this.curActive),Object(l.c)(t)&&t!==this.curActive&&(this.$emit("input",t),null!==this.curActive&&this.$emit("change",t,this.tabs[t].title),this.curActive=t)},findAvailableTab:function(t,e){for(var n=e?-1:1,i=t;0<=i&&i<this.tabs.length;){if(!this.tabs[i].disabled)return i;i+=n}},onClick:function(t){var e=this.tabs[t],n=e.title;e.disabled?this.$emit("disabled",t,n):(this.setCurActive(t),this.$emit("click",t,n))},scrollIntoView:function(t){var e=this.$refs.tabs;if(this.scrollable&&e&&e[this.curActive]){var n=this.$refs.nav,i=n.scrollLeft,s=n.offsetWidth,o=e[this.curActive],r=o.offsetLeft,a=o.offsetWidth;this.scrollTo(n,i,r-(s-a)/2,t)}},scrollTo:function(e,n,i,t){if(t)e.scrollLeft+=i-n;else{var s=0,o=Math.round(1e3*this.duration/16);!function t(){e.scrollLeft+=(i-n)/o,++s<o&&Object(r.a)(t)}()}},renderTitle:function(e,n){var i=this;this.$nextTick(function(){var t=i.$refs.title[n];t.parentNode.replaceChild(e,t)})},getTabStyle:function(t,e){var n={},i=this.color,s=e===this.curActive,o="card"===this.type;i&&(t.disabled||!o||s||(n.color=i),!t.disabled&&o&&s&&(n.backgroundColor=i),o&&(n.borderColor=i));var r=s?this.titleActiveColor:this.titleInactiveColor;return r&&(n.color=r),this.scrollable&&this.ellipsis&&(n.flexBasis=88/this.swipeThreshold+"%"),n}},render:function(n){var i=this,t=this.type,s=this.ellipsis,e=this.animated,o=this.scrollable,r=this.tabs.map(function(t,e){return n("div",{ref:"tabs",refInFor:!0,class:f({active:e===i.curActive,disabled:t.disabled,complete:!s}),style:i.getTabStyle(t,e),on:{click:function(){i.onClick(e)}}},[n("span",{ref:"title",refInFor:!0,class:{"van-ellipsis":s}},[t.title])])});return n("div",{class:u([t])},[n("div",{ref:"wrap",style:this.wrapStyle,class:[u("wrap",{scrollable:o}),{"van-hairline--top-bottom":"line"===t}]},[n("div",{ref:"nav",class:u("nav",[t]),style:this.navStyle},[this.slots("nav-left"),"line"===t&&n("div",{class:u("line"),style:this.lineStyle}),r,this.slots("nav-right")])]),n("div",{ref:"content",class:u("content",{animated:e})},[e?n("div",{class:u("track"),style:this.trackStyle},[this.slots()]):this.slots()])])}})},13:function(t,r,a){"use strict";(function(t){a.d(r,"a",function(){return o});var e=a(1),s=Date.now();var n=e.e?t:window,i=n.requestAnimationFrame||function(t){var e=Date.now(),n=Math.max(0,16-(e-s)),i=setTimeout(t,n);return s=e+n,i};n.cancelAnimationFrame||n.clearTimeout;function o(t){return i.call(n,t)}}).call(this,a(15))},15:function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},161:function(t,e,n){t.exports=n.p+"img/nocoupon.png"},162:function(t,e,n){"use strict";var i=n(66);n.n(i).a},19:function(t,e,n){"use strict";n(5)},2:function(t,e,n){"use strict";function i(t,e,n,i,s,o,r,a){var c,u="function"==typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=n,u._compiled=!0),i&&(u.functional=!0),o&&(u._scopeId="data-v-"+o),r?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),s&&s.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},u._ssrRegister=c):s&&(c=a?function(){s.call(this,this.$root.$options.shadowRoot)}:s),c)if(u.functional){u._injectStyles=c;var l=u.render;u.render=function(t,e){return c.call(e),l(t,e)}}else{var f=u.beforeCreate;u.beforeCreate=f?[].concat(f,c):[c]}return{exports:t,options:u}}n.d(e,"a",function(){return i})},20:function(t,e,n){"use strict";n(5),n(21)},21:function(t,e,n){},226:function(t,e,o){"use strict";o.r(e);o(19);function n(){var i=this,t=i.$createElement,s=i._self._c||t;return s("div",[s("van-tabs",{attrs:{animated:"",swipeable:"",id:"vanTab"},on:{change:i.changeTab}},i._l(i.tab,function(t,n){return s("van-tab",{key:n,attrs:{title:t}},[s("div",{directives:[{name:"show",rawName:"v-show",value:i.currentTab==n&&i.list[n]&&0<i.list[n].length,expression:"currentTab==i&&list[i]&&list[i].length>0"}],staticClass:"canget",style:{minHeight:i.ch+"px"}},i._l(i.list[n],function(t,e){return s("div",{key:t.usercouponid,staticClass:"item",class:2==n?"pass":""},[s("div",{staticClass:"left"},[s("div",{staticClass:"price"},[s("span",[i._v("￥")]),i._v(" "),s("span",[i._v(i._s(t.israandom?"??":t.facevalue))])]),i._v(" "),s("span",[i._v("满"+i._s(t.uselimit)+"元可用")])]),i._v(" "),s("div",{staticClass:"right"},[s("div",{staticClass:"cexplain"},[s("div",{staticClass:"titlel"},[s("span",[s("span",{staticClass:"tt"},[i._v(i._s(t.companyname))]),i._v(i._s(t.name))])]),i._v(" "),s("div",{staticClass:"content"},[i._v(i._s(t.israandom?"随机券":t.couponalias))]),i._v(" "),s("div",{staticClass:"date"},[i._v(i._s(t.time))])]),i._v(" "),1==t.state?s("div",{staticClass:"closePass"},[i._v("即将过期")]):i._e(),i._v(" "),2==t.state?s("div",{staticClass:"alreadyPass"},[i._v("已过期")]):i._e()])])}),0),i._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!i.list[n]||0==i.list[n].length,expression:"!list[i] || list[i].length==0"}],staticClass:"nodataa",style:{minHeight:i.ch+"px"}},[s("img",{attrs:{src:o(161)}}),i._v(" "),s("span",[i._v("您还没有优惠券喔~")]),i._v(" "),s("div",{on:{click:i.goCouponCenter}},[i._v("去领券")])])])}),1)],1)}var i=o(11),s=(o(20),o(12)),r=o(0),a=o.n(r);n._withStripped=!0;var c=o(33),u={components:{},props:{},data:function(){return{tab:["未使用","已使用","已过期"],currentTab:0,list:[[],[],[]],ch:100}},watch:{},computed:{},methods:o.n(c)()({goCouponCenter:function(){checkLoginStatus()&&openWin({name:"coupon_center",url:"./coupon_center.html",pageParam:{title:"领券中心"},bgColor:"#f5f5f5"},1)},bindData:function(t){var e=this,n=void 0,i=1;0==t||1==t?i=t+1:2==t&&(i=1,n=2),https({url:siteUrl+"Marketing/Coupon/GetUserCouponListJson",data:{uid:getname(),sta:i,isexpire:n,isgb:1},headers:1,successBack:function(t){hideLoading(),refreshDone(),t.success&&1==t.status&&0<t.Data.length?t.Data&&0<t.Data.length&&(t.Data.map(function(t){t.time=e.getTime(t.starttime,t.endtime),t.state=e.getState(t.endtime)}),e.list[e.currentTab]=t.Data):t.success&&0==t.Data.length?e.list[e.currentTab]=[]:promptMsg(t.err),e.$forceUpdate()}})},changeTab:function(t){window.scrollTo(0,0),this.currentTab=t,showLoading(),this.bindData(t)},getTime:function(t,e){var n=t.split(" ")[0],i=e.split(" ")[0],s=n.split("."),o=i.split(".");return s[0]+"年"+s[1]+"月"+s[2]+"日-"+o[0]+"年"+o[1]+"月"+o[2]+"日"},getState:function(t){var e=Date.now(),n=Date.parse(new Date(t))-e;return 0<n&&n<=432e6?1:n<=0?2:0}},"goCouponCenter",function(){openWin({name:"coupon_center",url:"./coupon_center.html",pageParam:{title:"领券中心"}},1)}),created:function(){var n=this;this.bindData(0),window.api&&(api.addEventListener({name:"viewappear"},function(t,e){n.bindData(n.currentTab)}),api.setCustomRefreshHeaderInfo({bgColor:"#fff",images:["widget://image/suaxin1.png","widget://image/suaxin2.png","widget://image/suaxin3.png","widget://image/suaxin4.png","widget://image/suaxin5.png","widget://image/suaxin6.png","widget://image/suaxin7.png"],tips:{pull:"下拉刷新",threshold:"松开立即刷新",load:"正在刷新"}},function(){setTimeout(function(){checkLoginStatus()?n.bindData(n.currentTab):refreshDone()},1e3)}))},mounted:function(){var e=document.getElementsByClassName("van-hairline--top-bottom")[0],n=e.offsetHeight;this.ch=client().height-n,window.onscroll=function(){var t=document.documentElement.scrollTop||document.body.scrollTop;n<t?e.classList.add("fixTop"):e.classList.remove("fixTop")}}},l=(o(162),o(2)),f=Object(l.a)(u,n,[],!1,null,null,null);f.options.__file="src/page/my_coupon/my_coupon.vue";var d=f.exports;a.a.use(i.a).use(s.a);openapp?window.apiready=function(){new a.a({render:function(t){return t(d)}}).$mount("#app")}:new a.a({render:function(t){return t(d)}}).$mount("#app")},3:function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"a",function(){return a});var s=n(1),o=!1;if(!s.e)try{var i={};Object.defineProperty(i,"passive",{get:function(){o=!0}}),window.addEventListener("test-passive",null,i)}catch(t){}function r(t,e,n,i){void 0===i&&(i=!1),s.e||t.addEventListener(e,n,!!o&&{capture:!1,passive:i})}function a(t,e,n){s.e||t.removeEventListener(e,n)}},33:function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},4:function(t,e,n){"use strict";function i(t,e){void 0===e&&(e=window);for(var n=t;n&&"HTML"!==n.tagName&&"BODY"!==n.tagName&&1===n.nodeType&&n!==e;){var i=window.getComputedStyle(n).overflowY;if("scroll"===i||"auto"===i)return n;n=n.parentNode}return e}function s(t){return"scrollTop"in t?t.scrollTop:t.pageYOffset}function o(t,e){"scrollTop"in t?t.scrollTop=e:t.scrollTo(t.scrollX,e)}function r(t){return(t===window?0:t.getBoundingClientRect().top)+s(window)}function a(t){return t===window?t.innerHeight:t.getBoundingClientRect().height}n.d(e,"b",function(){return i}),n.d(e,"c",function(){return s}),n.d(e,"e",function(){return o}),n.d(e,"a",function(){return r}),n.d(e,"d",function(){return a})},5:function(t,e,n){},66:function(t,e,n){},7:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={data:function(){return{direction:""}},methods:{touchStart:function(t){this.resetTouchStatus(),this.startX=t.touches[0].clientX,this.startY=t.touches[0].clientY},touchMove:function(t){var e=t.touches[0];this.deltaX=e.clientX-this.startX,this.deltaY=e.clientY-this.startY,this.offsetX=Math.abs(this.deltaX),this.offsetY=Math.abs(this.deltaY),this.direction=this.direction||function(t,e){return e<t&&10<t?"horizontal":t<e&&10<e?"vertical":""}(this.offsetX,this.offsetY)},resetTouchStatus:function(){this.direction="",this.deltaX=0,this.deltaY=0,this.offsetX=0,this.offsetY=0}}}}});