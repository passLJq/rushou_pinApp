!function(s){var i={};function n(t){if(i[t])return i[t].exports;var e=i[t]={i:t,l:!1,exports:{}};return s[t].call(e.exports,e,e.exports,n),e.l=!0,e.exports}n.m=s,n.c=i,n.d=function(t,e,s){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(s,i,function(t){return e[t]}.bind(null,i));return s},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=221)}({0:function(t,e){t.exports=Vue},2:function(t,e,s){"use strict";function i(t,e,s,i,n,a,o,r){var c,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=s,l._compiled=!0),i&&(l.functional=!0),a&&(l._scopeId="data-v-"+a),o?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},l._ssrRegister=c):n&&(c=r?function(){n.call(this,this.$root.$options.shadowRoot)}:n),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(t,e){return c.call(e),u(t,e)}}else{var p=l.beforeCreate;l.beforeCreate=p?[].concat(p,c):[c]}return{exports:t,options:l}}s.d(e,"a",function(){return i})},208:function(t,e,s){"use strict";var i=s(90);s.n(i).a},221:function(t,e,s){"use strict";s.r(e);function i(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"user_info"},[s("ul",{attrs:{id:"user_ul"}},[s("li",{staticClass:"clear",on:{click:function(t){return e.showMask(1)}}},[s("div",{staticClass:"list_container"},[s("div",{staticClass:"fl list_left_title"},[e._v("头像")]),e._v(" "),s("div",{staticClass:"fr user_pic_right right_content"},[s("img",{staticClass:"user_pic_container",attrs:{src:e.msg.pic||"./img/man.jpg",id:"user_img",alt:""}})])])]),e._v(" "),s("li",{staticClass:"clear",on:{click:e.toChangeName}},[s("div",{staticClass:"list_container"},[s("div",{staticClass:"fl list_left_title"},[e._v("昵称")]),e._v(" "),s("div",{staticClass:"fr right_content"},[s("span",{attrs:{id:"user_name"}},[e._v(e._s(e.msg.name))])])])]),e._v(" "),s("li",{staticClass:"clear",on:{click:function(t){return e.showMask(2)}}},[s("div",{staticClass:"list_container"},[s("div",{staticClass:"fl list_left_title"},[e._v("性别")]),e._v(" "),s("div",{staticClass:"fr right_content"},[s("span",{attrs:{id:"user_sex"}},[e._v(e._s(1==e.msg.sex?"男":2==e.msg.sex?"女":"其他"))])])])]),e._v(" "),s("li",{staticClass:"clear",on:{click:function(t){return e.toBindWx(e.msg.iswx)}}},[s("div",{staticClass:"list_container"},[s("div",{staticClass:"fl list_left_title"},[e._v("微信")]),e._v(" "),s("div",{staticClass:"fr right_content"},[s("span",[e._v(e._s(0==e.msg.iswx?"未绑定":"已绑定"))])])])]),e._v(" "),s("li",{staticClass:"clear",on:{click:e.loginOut}},[e._m(0)])])]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.showPop,expression:"showPop"}],staticClass:"mask_container",on:{click:e.closeMask}},[s("div",{style:{bottom:e.showPop?"0px":"-100%"}},[s("div",{staticClass:"mask_list"},[s("ul",[s("li",{staticClass:"mask_title"}),e._v(" "),s("li",{staticClass:"mask_camera",on:{click:function(t){return e.checkMsg(1,1)}}}),e._v(" "),s("li",{staticClass:"mask_album",on:{click:function(t){return e.checkMsg(2,2)}}})])]),e._v(" "),s("div",{staticClass:"mask_cancel",on:{click:e.closeMask}},[s("div",[e._v("取消")])])])])])}var n=s(0),a=s.n(n);i._withStripped=!0;var o={components:{},props:{},data:function(){return{msg:"",phon:"",showPop:!1,changeSex:!1}},watch:{showPop:function(t){t||(this.changeSex=!1)}},computed:{},methods:{showMask:function(t){1==t?($api.html($api.dom(".mask_title"),"更改头像"),$api.html($api.dom(".mask_camera"),"拍照"),$api.html($api.dom(".mask_album"),"从图库选择")):($api.html($api.dom(".mask_title"),"更改性别"),$api.html($api.dom(".mask_camera"),"男"),$api.html($api.dom(".mask_album"),"女"),this.changeSex=!0),this.showPop=!0},checkMsg:function(t,e){this.changeSex?(document.getElementById("user_sex").innerHTML=1==t?"男":"女",this.msg.sex=t,this.postMsg(2)):1==e?this.openSystemPic("camera"):this.openSystemPic("album"),this.showPop=!1},closeMask:function(t){this.showPop=!1},openSystemPic:function(t){var i=this;this.showPop=!1,api.getPicture({sourceType:t,mediaValue:"pic",destinationType:"base64",allowEdit:!0,targetWidth:300,targetHeight:300,saveToPhotoAlbum:!1},function(t,e){t.data?($api.attr($api.byId("user_img"),"src",t.data),api.ajax({url:memberSiteUrl+"/Ajax/FileUpload.ashx",method:"post",data:{files:{file:t.data}}},function(t,e){if("android"==api.systemType)t?t.success&&(i.phon=t.fullurl,i.postMsg(4)):promptMsg(e.msg);else if("ios"==api.systemType){var s=JSON.parse(e.body.replace(/'/g,'"'));s.success?(i.phon=s.fullurl,i.postMsg(4)):promptMsg(e.msg)}})):promptMsg("上传取消")})},toBindWx:function(t){openWin({name:"change_user_msg",url:"./change_user_msg.html",pageParam:{uname:this.msg.name,isBind:0==t?"":t}})},postMsg:function(s,i){var t="";1==s&&i&&(t=i),https({url:siteUrl+"Main/Member/UserEdit?devicetype=7&uid="+getname(),method:"post",data:{uid:getname(),name:t,sex:this.msg.sex,telephone:"",headpic:4==s?this.phon:""},headers:1,successBack:function(t,e){t?(1==s&&(document.getElementById("user_name").innerHTML=i),promptMsg("修改成功")):api.alert({msg:JSON.stringify(e)})}})},toChangeName:function(){openWin({name:"change_user_msg",url:"./change_user_msg.html",pageParam:{isChangeName:!0}})},loginOut:function(){openapp?comfirmDialogBox("您确定要退出账号吗?",this.loginOutBack):this.loginOutBack()},loginOutBack:function(){removeName("SessionUserID"),removeName("SessionName"),removeName("SessionKey"),removeName("SessionShopID"),setname("loginStatus","loginFail"),window.api?api.alert({msg:"成功退出登录"},function(){api.closeWin(),api.sendEvent({name:"loginout"})}):(alert("成功退出登录"),closeWin())}},created:function(){var e=this,s=this;https({url:siteUrl+"Main/Member/GetMemberJson?devicetype=7",data:{uid:getname()},headers:1,successBack:function(t){t.success&&1==t.status&&null!=t.Data?e.msg=t.Data:promptMsg(t.err)}}),window.api&&api.addEventListener({name:"changeUserName"},function(t,e){s.postMsg(1,t.value.name)})},mounted:function(){}},r=(s(208),s(2)),c=Object(r.a)(o,i,[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"list_container"},[e("div",{staticClass:"fl list_left_title"},[this._v("退出账号")]),this._v(" "),e("div",{staticClass:"fr right_content"})])}],!1,null,null,null);c.options.__file="src/page/userData/userData.vue";var l=c.exports;openapp?window.apiready=function(){new a.a({render:function(t){return t(l)}}).$mount("#app")}:new a.a({render:function(t){return t(l)}}).$mount("#app")},90:function(t,e,s){}});