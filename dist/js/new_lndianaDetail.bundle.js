!function(i){var n={};function s(t){if(n[t])return n[t].exports;var e=n[t]={i:t,l:!1,exports:{}};return i[t].call(e.exports,e,e.exports,s),e.l=!0,e.exports}s.m=i,s.c=n,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(i,n,function(t){return e[t]}.bind(null,n));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=213)}({0:function(t,e){t.exports=Vue},1:function(t,e,i){"use strict";var n=i(0),s=i.n(n),r="--";function o(t,e,i){return e?t+i+e:t}function a(i){return function(t,e){return t&&"string"!=typeof t&&(e=t,t=""),t=o(i,t,"__"),e?[t,function e(i,n){if("string"==typeof n)return o(i,n,r);if(Array.isArray(n))return n.map(function(t){return e(i,t)});var s={};return n&&Object.keys(n).forEach(function(t){s[i+r+t]=n[t]}),s}(t,e)]:t}}Object.prototype.hasOwnProperty;var u=s.a.prototype,c=s.a.util.defineReactive;c(u,"$vantLang","zh-CN"),c(u,"$vantMessages",{"zh-CN":{name:"姓名",tel:"电话",save:"保存",confirm:"确认",cancel:"取消",delete:"删除",complete:"完成",loading:"加载中...",telEmpty:"请填写电话",nameEmpty:"请填写姓名",confirmDelete:"确定要删除么",telInvalid:"请填写正确的电话",vanContactCard:{addText:"添加联系人"},vanContactList:{addText:"新建联系人"},vanPagination:{prev:"上一页",next:"下一页"},vanPullRefresh:{pulling:"下拉即可刷新...",loosing:"释放即可刷新..."},vanSubmitBar:{label:"合计："},vanCoupon:{valid:"有效期",unlimited:"无使用门槛",discount:function(t){return t+"折"},condition:function(t){return"满"+t+"元可用"}},vanCouponCell:{title:"优惠券",tips:"使用优惠",count:function(t){return t+"张可用"}},vanCouponList:{empty:"暂无优惠券",exchange:"兑换",close:"不使用优惠",enable:"可使用优惠券",disabled:"不可使用优惠券",placeholder:"请输入优惠码"},vanAddressEdit:{area:"地区",postal:"邮政编码",areaEmpty:"请选择地区",addressEmpty:"请填写详细地址",postalEmpty:"邮政编码格式不正确",defaultAddress:"设为默认收货地址",telPlaceholder:"收货人手机号",namePlaceholder:"收货人姓名",areaPlaceholder:"选择省 / 市 / 区"},vanAddressEditDetail:{label:"详细地址",placeholder:"街道门牌、楼层房间号等信息"},vanAddressList:{add:"新增地址"}}});var p=function(){return u.$vantMessages[u.$vantLang]},l={methods:{slots:function(t,e){void 0===t&&(t="default");var i=this.$slots,n=this.$scopedSlots;return n[t]?n[t](e):i[t]}}},d={type:Array,default:function(){return[]}},h={type:Number,default:0};function f(t){var e=this.name;t.component(e,this),t.component(C("-"+e),this)}function g(i){return{functional:!0,props:i.props,model:i.model,render:function(t,e){return i(t,e.props,function(t){var e=t.scopedSlots||t.data.scopedSlots||{},i=t.slots();return Object.keys(i).forEach(function(t){e[t]||(e[t]=function(){return i[t]})}),e}(e),e)}}}function v(e){return function(t){return"function"==typeof t&&(t=g(t)),t.functional||(t.mixins=t.mixins||[],t.mixins.push(l)),t.props&&function(e){Object.keys(e).forEach(function(t){e[t]===Array?e[t]=d:e[t]===Number&&(e[t]=h)})}(t.props),t.name=e,t.install=f,t}}function m(t){return[v(t="van-"+t),a(t),function(t){var r=C(t)+".";return function(t){for(var e=k(p(),r+t)||k(p(),t),i=arguments.length,n=new Array(1<i?i-1:0),s=1;s<i;s++)n[s-1]=arguments[s];return"function"==typeof e?e.apply(void 0,n):e}}(t)]}i.d(e,"e",function(){return y}),i.d(e,"c",function(){return b}),i.d(e,"d",function(){return _}),i.d(e,"b",function(){return k}),i.d(e,"a",function(){return C}),i.d(e,"f",function(){return m});var y=s.a.prototype.$isServer;function b(t){return null!=t}function _(t){var e=typeof t;return null!==t&&("object"==e||"function"==e)}function k(t,e){var i=e.split("."),n=t;return i.forEach(function(t){n=b(n[t])?n[t]:""}),n}var w=/-(\w)/g;function C(t){return t.replace(w,function(t,e){return e.toUpperCase()})}},100:function(t,e,i){t.exports=i(165)},103:function(t,e){function u(t,e,i,n,s,r,o){try{var a=t[r](o),u=a.value}catch(t){return void i(t)}a.done?e(u):Promise.resolve(u).then(n,s)}t.exports=function(a){return function(){var t=this,o=arguments;return new Promise(function(e,i){var n=a.apply(t,o);function s(t){u(n,e,i,s,r,"next",t)}function r(t){u(n,e,i,s,r,"throw",t)}s(void 0)})}}},16:function(t,e,i){"use strict";var n=i(1),s=i(3),r=i(7),o=Object(n.f)("swipe"),a=o[0],u=o[1];e.a=a({mixins:[r.a],props:{width:Number,height:Number,autoplay:Number,vertical:Boolean,initialSwipe:Number,indicatorColor:String,loop:{type:Boolean,default:!0},touchable:{type:Boolean,default:!0},showIndicators:{type:Boolean,default:!0},duration:{type:Number,default:500}},data:function(){return{computedWidth:0,computedHeight:0,offset:0,active:0,deltaX:0,deltaY:0,swipes:[],swiping:!1}},mounted:function(){this.initialize(),this.$isServer||Object(s.b)(window,"resize",this.onResize,!0)},activated:function(){this.rendered&&this.initialize(),this.rendered=!0},destroyed:function(){this.clear(),this.$isServer||Object(s.a)(window,"resize",this.onResize,!0)},watch:{swipes:function(){this.initialize()},initialSwipe:function(){this.initialize()},autoplay:function(t){t?this.autoPlay():this.clear()}},computed:{count:function(){return this.swipes.length},delta:function(){return this.vertical?this.deltaY:this.deltaX},size:function(){return this[this.vertical?"computedHeight":"computedWidth"]},trackSize:function(){return this.count*this.size},activeIndicator:function(){return(this.active+this.count)%this.count},isCorrectDirection:function(){var t=this.vertical?"vertical":"horizontal";return this.direction===t},trackStyle:function(){var t,e=this.vertical?"height":"width",i=this.vertical?"width":"height";return(t={})[e]=this.trackSize+"px",t[i]=this[i]?this[i]+"px":"",t.transitionDuration=(this.swiping?0:this.duration)+"ms",t.transform="translate"+(this.vertical?"Y":"X")+"("+this.offset+"px)",t},indicatorStyle:function(){return{backgroundColor:this.indicatorColor}}},methods:{initialize:function(t){if(void 0===t&&(t=this.initialSwipe),clearTimeout(this.timer),this.$el){var e=this.$el.getBoundingClientRect();this.computedWidth=this.width||e.width,this.computedHeight=this.height||e.height}this.swiping=!0,this.active=t,this.offset=1<this.count?-this.size*this.active:0,this.swipes.forEach(function(t){t.offset=0}),this.autoPlay()},onResize:function(){this.initialize(this.activeIndicator)},onTouchStart:function(t){this.touchable&&(this.clear(),this.swiping=!0,this.touchStart(t),this.correctPosition())},onTouchMove:function(t){this.touchable&&this.swiping&&(this.touchMove(t),this.isCorrectDirection&&(t.preventDefault(),t.stopPropagation(),this.move({offset:Math.min(Math.max(this.delta,-this.size),this.size)})))},onTouchEnd:function(){if(this.touchable&&this.swiping){if(this.delta&&this.isCorrectDirection){var t=this.vertical?this.offsetY:this.offsetX;this.move({pace:0<t?0<this.delta?-1:1:0,emitChange:!0})}this.swiping=!1,this.autoPlay()}},move:function(t){var e=t.pace,i=void 0===e?0:e,n=t.offset,s=void 0===n?0:n,r=t.emitChange,o=this.delta,a=this.active,u=this.count,c=this.swipes,p=this.trackSize,l=0===a,d=a===u-1;!this.loop&&(l&&(0<s||i<0)||d&&(s<0||0<i))||u<=1||(c[0]&&(c[0].offset=d&&(o<0||0<i)?p:0),c[u-1]&&(c[u-1].offset=l&&(0<o||i<0)?-p:0),i&&-1<=a+i&&a+i<=u&&(this.active+=i,r&&this.$emit("change",this.activeIndicator)),this.offset=Math.round(s-this.active*this.size))},swipeTo:function(t){var e=this;this.swiping=!0,this.resetTouchStatus(),this.correctPosition(),setTimeout(function(){e.swiping=!1,e.move({pace:t%e.count-e.active,emitChange:!0})},30)},correctPosition:function(){this.active<=-1&&this.move({pace:this.count}),this.active>=this.count&&this.move({pace:-this.count})},clear:function(){clearTimeout(this.timer)},autoPlay:function(){var t=this,e=this.autoplay;e&&1<this.count&&(this.clear(),this.timer=setTimeout(function(){t.swiping=!0,t.resetTouchStatus(),t.correctPosition(),setTimeout(function(){t.swiping=!1,t.move({pace:1,emitChange:!0}),t.autoPlay()},30)},e))}},render:function(i){var n=this,t=this.count,s=this.activeIndicator,e=this.slots("indicator")||this.showIndicators&&1<t&&i("div",{class:u("indicators",{vertical:this.vertical})},[Array.apply(void 0,Array(t)).map(function(t,e){return i("i",{class:u("indicator",{active:e===s}),style:e===s?n.indicatorStyle:null})})]);return i("div",{class:u()},[i("div",{ref:"track",style:this.trackStyle,class:u("track"),on:{touchstart:this.onTouchStart,touchmove:this.onTouchMove,touchend:this.onTouchEnd,touchcancel:this.onTouchEnd}},[this.slots()]),e])}})},163:function(t,e,i){t.exports=i.p+"img/redpackage.png"},164:function(t,e,i){t.exports=i.p+"img/gongshang.png"},165:function(t,e,i){var n=function(r){"use strict";var u,t=Object.prototype,c=t.hasOwnProperty,e="function"==typeof Symbol?Symbol:{},s=e.iterator||"@@iterator",i=e.asyncIterator||"@@asyncIterator",n=e.toStringTag||"@@toStringTag";function o(t,e,i,n){var s=e&&e.prototype instanceof a?e:a,r=Object.create(s.prototype),o=new P(n||[]);return r._invoke=function(r,o,a){var u=l;return function(t,e){if(u===h)throw new Error("Generator is already running");if(u===f){if("throw"===t)throw e;return D()}for(a.method=t,a.arg=e;;){var i=a.delegate;if(i){var n=x(i,a);if(n){if(n===g)continue;return n}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(u===l)throw u=f,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);u=h;var s=p(r,o,a);if("normal"===s.type){if(u=a.done?f:d,s.arg===g)continue;return{value:s.arg,done:a.done}}"throw"===s.type&&(u=f,a.method="throw",a.arg=s.arg)}}}(t,i,o),r}function p(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(t){return{type:"throw",arg:t}}}r.wrap=o;var l="suspendedStart",d="suspendedYield",h="executing",f="completed",g={};function a(){}function v(){}function m(){}var y={};y[s]=function(){return this};var b=Object.getPrototypeOf,_=b&&b(b(M([])));_&&_!==t&&c.call(_,s)&&(y=_);var k=m.prototype=a.prototype=Object.create(y);function w(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function C(u){var e;this._invoke=function(i,n){function t(){return new Promise(function(t,e){!function e(t,i,n,s){var r=p(u[t],u,i);if("throw"!==r.type){var o=r.arg,a=o.value;return a&&"object"==typeof a&&c.call(a,"__await")?Promise.resolve(a.__await).then(function(t){e("next",t,n,s)},function(t){e("throw",t,n,s)}):Promise.resolve(a).then(function(t){o.value=t,n(o)},function(t){return e("throw",t,n,s)})}s(r.arg)}(i,n,t,e)})}return e=e?e.then(t,t):t()}}function x(t,e){var i=t.iterator[e.method];if(i===u){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=u,x(t,e),"throw"===e.method))return g;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var n=p(i,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,g;var s=n.arg;return s?s.done?(e[t.resultName]=s.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=u),e.delegate=null,g):s:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,g)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function M(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,n=function t(){for(;++i<e.length;)if(c.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=u,t.done=!0,t};return n.next=n}}return{next:D}}function D(){return{value:u,done:!0}}return v.prototype=k.constructor=m,m.constructor=v,m[n]=v.displayName="GeneratorFunction",r.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,n in t||(t[n]="GeneratorFunction")),t.prototype=Object.create(k),t},r.awrap=function(t){return{__await:t}},w(C.prototype),C.prototype[i]=function(){return this},r.AsyncIterator=C,r.async=function(t,e,i,n){var s=new C(o(t,e,i,n));return r.isGeneratorFunction(e)?s:s.next().then(function(t){return t.done?t.value:s.next()})},w(k),k[n]="Generator",k[s]=function(){return this},k.toString=function(){return"[object Generator]"},r.keys=function(i){var n=[];for(var t in i)n.push(t);return n.reverse(),function t(){for(;n.length;){var e=n.pop();if(e in i)return t.value=e,t.done=!1,t}return t.done=!0,t}},r.values=M,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&c.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=u)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(i){if(this.done)throw i;var n=this;function t(t,e){return r.type="throw",r.arg=i,n.next=t,e&&(n.method="next",n.arg=u),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var s=this.tryEntries[e],r=s.completion;if("root"===s.tryLoc)return t("end");if(s.tryLoc<=this.prev){var o=c.call(s,"catchLoc"),a=c.call(s,"finallyLoc");if(o&&a){if(this.prev<s.catchLoc)return t(s.catchLoc,!0);if(this.prev<s.finallyLoc)return t(s.finallyLoc)}else if(o){if(this.prev<s.catchLoc)return t(s.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return t(s.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;0<=i;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&c.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var s=n;break}}s&&("break"===t||"continue"===t)&&s.tryLoc<=e&&e<=s.finallyLoc&&(s=null);var r=s?s.completion:{};return r.type=t,r.arg=e,s?(this.method="next",this.next=s.finallyLoc,g):this.complete(r)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),L(i),g}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var n=i.completion;if("throw"===n.type){var s=n.arg;L(i)}return s}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:M(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=u),g}},r}(t.exports);try{regeneratorRuntime=n}catch(t){Function("r","regeneratorRuntime = r")(n)}},166:function(t,e,i){t.exports=i.p+"img/guanbi1.png"},167:function(t,e,i){"use strict";var n=i(67);i.n(n).a},168:function(t,e,i){"use strict";var n=i(68);i.n(n).a},17:function(t,e,i){"use strict";var o=i(8),n=i(1),s=Object(n.f)("swipe-item"),r=s[0],a=s[1];e.a=r({data:function(){return{offset:0}},beforeCreate:function(){this.$parent.swipes.push(this)},destroyed:function(){this.$parent.swipes.splice(this.$parent.swipes.indexOf(this),1)},render:function(t){var e=this.$parent,i=e.vertical,n=e.computedWidth,s=e.computedHeight,r={width:n+"px",height:i?s+"px":"100%",transform:"translate"+(i?"Y":"X")+"("+this.offset+"px)"};return t("div",{class:a(),style:r,on:Object(o.a)({},this.$listeners)},[this.slots()])}})},2:function(t,e,i){"use strict";function n(t,e,i,n,s,r,o,a){var u,c="function"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=i,c._compiled=!0),n&&(c.functional=!0),r&&(c._scopeId="data-v-"+r),o?(u=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),s&&s.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},c._ssrRegister=u):s&&(u=a?function(){s.call(this,this.$root.$options.shadowRoot)}:s),u)if(c.functional){c._injectStyles=u;var p=c.render;c.render=function(t,e){return u.call(e),p(t,e)}}else{var l=c.beforeCreate;c.beforeCreate=l?[].concat(l,u):[u]}return{exports:t,options:c}}i.d(e,"a",function(){return n})},213:function(t,e,i){"use strict";i.r(e);i(23);function n(){var n=this,t=n.$createElement,s=n._self._c||t;return s("div",{attrs:{id:"app"}},[s("div",{staticClass:"swiper"},[s("van-swipe",{attrs:{autoplay:3e3,id:"swiper"}},n._l(n.imgUrls,function(t,e){return s("van-swipe-item",{key:e},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t,expression:"item"}],staticStyle:{width:"100%"}})])}),1),n._v(" "),s("div",{staticClass:"priceGroup gradient"},[s("div",{staticClass:"pr"},[s("div",[s("div",[s("span",[n._v("￥")]),s("span",{staticClass:"prr"},[n._v(n._s(n.price))])]),n._v(" "),n.isduobao?s("span",{staticClass:"gbn"},[n._v("抽奖价")]):s("span",{staticClass:"gbn"},[n._v(n._s(n.gbnum)+"人拼团价")])]),n._v(" "),n.isduobao?n._e():s("p",[n._v("￥"+n._s(n._f("toFixed")(n.oldPrice))+"/抢购价")])]),n._v(" "),!n.isduobao&&n.groupCount.show?s("div",{staticClass:"cout"},[s("p",[n._v(n._s(n.groupCount.isDone?"活动已结束":n.groupCount.text))]),n._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!n.groupCount.isDone,expression:"!groupCount.isDone"}]},[s("p",[n._v(n._s(n.groupCount.hour))]),n._v(" "),s("span",[n._v(":")]),n._v(" "),s("p",[n._v(n._s(n.groupCount.minute))]),n._v(" "),s("span",[n._v(":")]),n._v(" "),s("p",[n._v(n._s(n.groupCount.second))])])]):n._e()])],1),n._v(" "),s("div",{staticClass:"proDetails flex"},[s("div",{staticClass:"p1 mt_5"},[n.msg.iscross?s("span",{staticClass:"allhave"},[s("span",{staticClass:"tua",staticStyle:{"background-color":"#9F01F1"}},[n._v("全球购")]),s("span",{staticClass:"buy",staticStyle:{color:"#9f01f1",margin:"0 5px"}},[n._v("包邮包税")])]):n._e(),n._v(" "),s("span",{staticClass:"gradient tua",staticStyle:{"margin-right":"3px"}},[n._v("拼团包邮")]),n.msg.buyonegetone?s("span",{staticClass:"gradient tua",staticStyle:{"margin-right":"3px"}},[n._v(n._s(n.msg.buyonegetone?"拼一送一":""))]):n._e(),n._v(n._s(n.msg.proname||n.msg.name)+"\n        ")]),n._v(" "),s("div",{staticClass:"p2"},[n._v(n._s(n.msg.secondname))]),n._v(" "),s("div",{staticClass:"redshare",on:{click:n.onshare}},[s("div",[s("img",{attrs:{src:i(163)}}),n._v(" "),s("span",[n._v("分享开团可赚")]),n._v(" "),s("span",[n._v("￥"+n._s(n._f("toFixed")(n.gbearn)))])]),n._v(" "),s("span",[n._v("去分享>>")])])]),n._v(" "),s("div",{staticClass:"ensure flex",on:{click:n.openEnsure}},n._l(n.msg.commitmentlist,function(t,e){return s("div",{key:e,staticClass:"flex flex flex_align_center flex_pack_center"},[s("i"),n._v(" "),s("span",{staticStyle:{"margin-left":"6px"}},[n._v(n._s(t.name))])])}),0),n._v(" "),1==n.showCoupon?s("div",{staticClass:"coupon hide",staticStyle:{"margin-top":"3%"},attrs:{id:"coupon"},on:{click:n.openCoupon}},[s("div",[s("span",[n._v(n._s(n.unGet?"领券":"已领券"))]),n._v(" "),s("span",{staticClass:"t1"},[n._v(n._s(n.unGet[0]?n.unGet[0].companyname:n.hasGet[0]?n.hasGet[0].companyname:""))]),n._v(" "),n._l(n.unGet,function(t,e){return n.unGet&&e<2?s("span",{staticClass:"t2"},[n._v(n._s("满"+t.uselimit+"减"+t.facevalue+"元"))]):n._e()}),n._v(" "),n._l(n.hasGet,function(t,e){return!n.unGet&&n.hasGet&&e<2?s("span",{staticClass:"t2"},[n._v(n._s("满"+t.uselimit+"减"+t.facevalue+"元"))]):n._e()})],2),n._v(" "),s("div",{staticClass:"r icon-right iconfont"})]):n._e(),n._v(" "),n.isduobao?s("div",{staticClass:"flex flex_pack_center hengtiao"},[s("div",{staticStyle:{width:"90%",height:"1px","background-color":"#f6f6fa"}})]):n._e(),n._v(" "),n.isduobao?s("div",{staticClass:"progress flex flex_v flex_align_center"},[s("div",{staticClass:"line"},[s("div",{style:{width:n.msg.amout/n.msg.totalamout*100+"%"}})]),n._v(" "),s("div",{staticClass:"attend flex flex_pack_justify_between"},[s("span",{},[n._v(n._s(n.msg.amout+"人已参加"))]),n._v(" "),s("span",{},[n._v(n._s("剩余"+n.msg.remainingamout))])])]):n._e(),n._v(" "),!n.isduobao&&n.groupBuyList&&n.groupBuyList.gblist&&0<n.groupBuyList.gblist.length?s("div",{staticClass:"member"},n._l(n.groupBuyList.gblist,function(e,i){return s("div",{staticClass:"member-item flex"},[s("img",{attrs:{src:e.imgphoto},on:{error:function(t){return n.imgErr(i)}}}),n._v(" "),s("div",{staticClass:"flex flex_v flex_pack_justify_between flex_1"},[s("span",{staticClass:"line_over_1"},[n._v(n._s(e.realname)+"的拼团")]),n._v(" "),s("span",{},[n._v("还差"+n._s(e.num)+"人，还剩"+n._s(n.countDownTime[i]))])]),n._v(" "),s("div",{staticClass:"btn gradient",on:{click:function(t){return n.openGroup(e.isingroup,i)}}},[n._v(n._s(e.isingroup?"已参团":"与他拼团"))])])}),0):n._e(),n._v(" "),s("div",{staticClass:"productMsg",attrs:{id:"productMsg"}},[s("div",{staticClass:"title"},[n._v("商品详情")]),n._v(" "),s("div",{staticClass:"content",attrs:{id:"pd"}},[n.productDetail?n._e():s("div",{staticClass:"flex flex_v flex_align_center flex_pack_center",staticStyle:{width:"100%",height:"300rpx","background-color":"#f6f6fa"}},[s("img",{staticClass:"nodata",attrs:{src:i(22)}}),n._v(" "),s("span",{staticClass:"color_999",staticStyle:{"font-size":"13px","margin-top":"-5%"}},[n._v("暂无商品介绍")])])]),n._v(" "),s("div",[s("div",{staticClass:"gongshang",attrs:{id:"gs"},on:{click:function(t){return n.gogongshang()}}},[s("p",[n._v("工商资质")]),n._v(" "),s("img",{attrs:{src:i(164),alt:""}})])])]),n._v(" "),s("div",{staticClass:"footerBar",attrs:{id:"footer"}},[n.isduobao&&n.outTime?s("div",{staticClass:"dbBuy flex flex_align_center flex_pack_center",staticStyle:{background:"#999"}},[s("span",[n._v(n._s(n.hasJoin?"已参加":"已结束"))])]):n._e(),n._v(" "),n.isduobao&&!n.outTime?s("div",{staticClass:"dbBuy flex flex_align_center flex_pack_center gradient",on:{click:function(t){return n.showLndiana(0)}}},[s("span",{},[n._v("立即抽奖 ￥"+n._s(n.price))])]):n._e(),n._v(" "),n.isduobao?n._e():s("div",{staticClass:"newButton ptBuy flex flex_align_center flex_pack_center gradient",on:{click:n.checkGB}},[s("span",[n._v("拼团购 ￥"+n._s(n._f("toFixed")(n.price))+n._s(n.gbearn&&n.fxshopid?"/赚￥"+n.gbearn.toFixed(2):""))])])]),n._v(" "),s("div",{staticClass:"count flex flex_v flex_align_center flex_pack_justify_between transition_ease_in_out",style:{bottom:n.showNum?"0px":"-100%"},attrs:{id:"count"}},[s("div",{staticClass:"numBox flex flex_align_center flex_pack_justify_between"},[s("div",{staticClass:"icon flex flex_align_center flex_pack_center iconfont icon-minus",class:1<n.lndianaNum?"":"color_999",attrs:{tapmode:""},on:{touchstart:function(t){return n.lndianaCount(0)}}}),n._v(" "),n.msg.patern?s("input",{ref:"input",attrs:{type:"number"},domProps:{value:n.lndianaNum},on:{input:n.inputHandle}}):s("span",[n._v(n._s(n.lndianaNum))]),n._v(" "),s("div",{staticClass:"icon flex flex_align_center flex_pack_center  iconfont icon-add",class:n.lndianaNum==n.msg.remainingamout?"color_999":n.lndianaNum==n.msg.max?"color_999":"",attrs:{tapmode:""},on:{touchstart:function(t){return n.lndianaCount("add")}}})]),n._v(" "),s("div",{staticClass:"btn gradient flex flex_align_center flex_pack_center",on:{click:n.confirmLogin}},[n._v("确定数量")])]),n._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:n.showMark,expression:"showMark"}],staticClass:"mark",staticStyle:{"z-index":"100"},on:{click:function(t){return n.showLndiana(1)}}}),n._v(" "),s("div",{staticClass:"popup-content",style:n.showEnsure?"bottom: 0%":""},[s("div",{staticClass:"popup-title",staticStyle:{"text-align":"center"}},[n._v("服务承诺")]),n._v(" "),n._l(n.msg.commitmentlist,function(t){return n.msg.commitmentlist?s("div",{staticClass:"popup-item"},[s("div",{staticClass:"flex flex_align_center"},[s("img",{attrs:{src:t.logoimg}}),n._v(" "),s("span",{},[n._v(n._s(t.name))])]),n._v(" "),s("div",{staticClass:"color_999 popup-text"},[n._v(n._s(t.content))])]):n._e()})],2),n._v(" "),n.showPt?s("div",{staticClass:"ptPop flex flex_v flex_align_center flex_pack_justify_between clear",style:{top:n.showPt?"50%":"-999%"}},[s("span",{},[n._v("还差"+n._s(n.ptDetailData.count)+"人，快来拼团吧")]),n._v(" "),s("div",{staticClass:"avatar flex",class:{tomore:n.ptAvatar},attrs:{id:"avatar"}},[s("div",{staticClass:"box"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:n.ptData.imgphoto,expression:"ptData.imgphoto"}]}),n._v(" "),s("div",{staticClass:"gradient name"},[n._v("团长")])]),n._v(" "),n._l(n.resobj,function(t,e){return 0<n.resobj.length?s("div",{staticClass:"box boxx"},[s("img",{attrs:{src:t.userimg}})]):n._e()}),n._v(" "),n._l(n.ptCount,function(t){return n.ptCount?s("div",{staticClass:"box boxx"},[s("img",{staticStyle:{border:"1px solid #d8d8d8"},attrs:{src:i(30)}})]):n._e()})],2),n._v(" "),s("div",{staticClass:"btn gradient flex flex_align_center flex_pack_center",on:{click:function(t){return n.goGroupDetail(n.ptDetailData.orderid,n.ptData.isingroup)}}},[n._v("\n          "+n._s(n.ptData.isingroup?"已参团":"与他拼团")+"\n        ")])]):n._e(),n._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:n.showTips,expression:"showTips"}],staticClass:"tips",staticStyle:{"z-index":"101"}},[s("p",[n._v("友情提示")]),n._v(" "),s("p",[n._v("亲，有人正在拼这款商品，可以前往点击成团列表快速成团哦~")]),n._v(" "),s("div",{staticClass:"tipBtn"},[s("div",{on:{click:n.goGblist}},[n._v("与他人拼团")]),n._v(" "),s("div",{on:{click:function(t){return n.groupbuy()}}},[n._v("直接开团")])])]),n._v(" "),s("specpop",{directives:[{name:"show",rawName:"v-show",value:n.showSpec,expression:"showSpec"}],attrs:{pid:n.msg.productid,orderid:n.orderid,gbskuid_prop:n.groupBuyList.gbskuid,gbPrice:n.groupBuyList.gbprice,gbid:n.groupBuyList.gbid,openGroupbuy:n.openGroupbuy},on:{changeData:n.changMsg}}),n._v(" "),s("coupon",{directives:[{name:"show",rawName:"v-show",value:n.showCou,expression:"showCou"}],attrs:{bindData:n.showCou,pid:n.msg.productid,gbid:n.groupBuyList.gbid},on:{closeCou:function(t){return n.showLndiana(1)}}})],1)}var s=i(16),r=(i(25),i(17)),o=i(0),a=i.n(o);n._withStripped=!0;function u(){var n=this,t=n.$createElement,s=n._self._c||t;return s("section",[s("div",{staticClass:"zhezhao",on:{click:n.closeCoupon}}),n._v(" "),s("div",{staticClass:"couponn"},[s("div",{staticClass:"titlel"},[s("div",{staticStyle:{"font-size":"14px",opacity:"0"}},[n._v("1")]),n._v(" "),s("div",{staticClass:"t"},[n._v("领取优惠券")]),n._v(" "),s("div",{staticClass:"guanbi",on:{click:n.closeCoupon}},[s("img",{attrs:{src:i(166),alt:""}})])]),n._v(" "),s("div",{staticClass:"line"}),n._v(" "),s("div",{staticClass:"main"},[s("div",{staticClass:"canget"},[s("div",{staticClass:"cangetHead"},[n._v("可领取优惠券"),n.isshoppingcar?s("span",[n._v("领取后可用于购物车商品")]):n._e()]),n._v(" "),n._l(n.unGet,function(e,i){return s("div",{key:i,staticClass:"item"},[s("div",{staticClass:"left"},[s("div",{staticClass:"price"},[s("span",[n._v("￥")]),n._v(" "),s("span",[n._v(n._s(e.israandom?"??":e.facevalue))])]),n._v(" "),s("span",[n._v("满"+n._s(e.uselimit)+"元可用")])]),n._v(" "),s("div",{staticClass:"right"},[s("div",{staticClass:"cexplain"},[s("div",{staticClass:"titlel"},[s("span",[s("span",{staticClass:"tt"},[n._v(n._s(e.companyname))]),n._v(n._s(e.name))])]),n._v(" "),s("div",{staticClass:"content"},[n._v(n._s(e.israandom?"随机券":e.couponalias))]),n._v(" "),s("div",{staticClass:"date"},[n._v(n._s(e.time))])]),n._v(" "),s("div",{staticClass:"btn",on:{click:function(t){return t.stopPropagation(),n.getCoupon(i,e.couponid)}}},[n._v("立即领取")]),n._v(" "),1==e.state||2==e.state?s("div",{staticClass:"closePass"},[n._v(n._s(1==e.state?"即将过期":2==e.state?"已过期":""))]):n._e()])])})],2),n._v(" "),n.unGet?n._e():s("div",{staticClass:"nodataa"},[s("img",{attrs:{src:i(93)}}),n._v(" "),s("span",{staticClass:"p"},[n._v("很遗憾")]),n._v(" "),s("span",[n._v("您暂无可以领取的优惠券")])])])])])}var c=i(100),p=i.n(c),l=i(103),d=i.n(l),h=i(40);u._withStripped=!0;var f,g=i(33),v=i.n(g),m={props:(f={gbid:{type:String,required:!1},pid:{type:String,required:!1}},v()(f,"gbid",{type:String,required:!1}),v()(f,"cid",{type:String,required:!1}),v()(f,"rbid",{type:String,required:!1}),v()(f,"way",{type:String,required:!1}),v()(f,"bindData",{type:Boolean,required:!1}),f),data:function(){return{isshoppingcar:0,hasGet:"",unGet:"",isgroupbuy:!1,isDone:!1,hasUnGet:!1,uid:"",loadTimer:null}},created:function(){this.uid=window.api?api.getPrefs({sync:!0,key:"SessionUserID"}):$api.getStorage("SessionUserID")},computed:{},watch:{bindData:function(t){t&&this.getMsg()}},methods:{getCoupon:function(i,t){var n=this;https({url:siteUrl+"Marketing/Coupon/ReceiveCoupon?devicetype=7",data:{uid:this.uid,couponid:t},headers:1,successBack:function(t){if(t&&t.success&&1==t.status){promptMsg("领取成功");var e=n.unGet[i];""==n.hasGet&&(n.hasGet=[]),e.getnum+=1,e.eachamount-e.getnum<=0?(n.unGet.splice(i,1),0==n.unGet.length&&(n.unGet="")):n.unGet[i]=e,n.hasGet.push(e),n.$forceUpdate()}else if(5==t.status){promptMsg("该优惠券已全部领完了");n.unGet[i];n.unGet.splice(i,1),n.$forceUpdate()}else promptMsg(t.err)}})},getMsg:function(){this.unGet&&0<this.unGet.length||this.hasGet&&0<this.hasGet.length||(this.loadTimer=setTimeout(function(){showLoading()},500)),this.$props.gbid&&(this.isgroupbuy=!0),this.isshoppingcar="shoppingcar"==this.$props.way?1:0,this.$props.gbid?this.getGbCou():this.$props.rbid?this.getRushCoupon():this.$props.pid?this.getProCoupon():this.getComMsg()},getRushCoupon:function(){var i=this;https({url:siteUrl+"Marketing/Coupon/GetCouponListJson?devicetype=7",data:{uid:i.uid,ispaltform:3,activityid:this.$props.rbid},header:1,successBack:function(t){if(t.success&&1==t.status){var e=t.Data;e.length?i.screenCoupon(e):i.isDone=!0}else promptMsg(t.err)}})},getGbCou:function(){var i=this;https({url:siteUrl+"Marketing/Coupon/GetCouponListJson?devicetype=7",data:{uid:this.uid,ispaltform:3,gbid:this.$props.gbid,comid:this.$props.cid,isgb:!0},successBack:function(t){if(t.success&&1==t.status){var e=t.Data;e.length?i.screenCoupon(e):i.isDone=!0}else promptMsg(t.err)}})},getProCoupon:function(){var e=this;https({url:siteUrl+"Marketing/Coupon/GetCompanyPlatformCoupon?devicetype=7",data:{CompanyID:this.$props.cid,uid:this.uid,proId:this.$props.pid},header:1,successBack:function(t){e.proCouponBack(t)}})},proCouponBack:function(t){if(t.success&&1==t.status){var e=[],i=t.CompanyData,n=t.Platform;i.length&&i.forEach(function(t){1==t.prolimit&&e.push(t)}),n.length&&n.forEach(function(t){1==t.prolimit&&e.push(t)}),e.length?this.screenCoupon(e):this.isDone=!0}else promptMsg(t.err)},getComMsg:function(){var i=this;https({url:siteUrl+"Marketing/Coupon/GetCouponListJson?devicetype=7",data:{uid:this.uid,comid:this.$props.cid,ispaltform:3},headers:1,successBack:function(t){var e=[];t.success&&1==t.status?t.Data.length&&t.Data.forEach(function(t){e.push(t)}):promptMsg(t.err),e.length?i.screenCoupon(e):i.isDone=!0}})},getTime:function(t,e){var i=t.split(" ")[0],n=e.split(" ")[0],s=i.split("."),r=n.split(".");return s[0]+"年"+s[1]+"月"+s[2]+"日-"+r[0]+"年"+r[1]+"月"+r[2]+"日"},getState:function(t){var e=Date.now(),i=t.replace(/\./g,":").replace(" ",":");i=i.split(":");var n=new Date(i[0],i[1]-1,i[2],i[3],i[4],i[5]),s=Date.parse(new Date(n))-e;return 0<s&&s<=432e6?1:s<=0?2:0},screenCoupon:function(t){var n=this;null!=this.loadTimer&&(hideLoading(),clearTimeout(this.loadTimer),this.loadTimer=null);var s=[],r=[];t.forEach(function(t){if(!t.isover&&0<t.eachamount-t.getnum&&2!=t.couponType&&3!=t.couponType){if(t.time=n.getTime(t.starttime,t.endtime),t.state=n.getState(t.userendtime),r.push(t),t.getnum)if(1<t.getnum)for(var e=0;e<t.getnum;e++)s.push(t);else s.push(t)}else if(t.time=n.getTime(t.starttime,t.endtime),t.state=n.getState(t.userendtime),t.isget)if(1<t.getnum)for(var i=0;i<t.getnum;i++)s.push(t);else s.push(t)}),s.length||(s=""),r.length||(r=""),this.hasGet=s,this.unGet=r,this.$forceUpdate()},closeCoupon:function(){this.$emit("closeCou")}}},y=(i(167),i(2)),b=Object(y.a)(m,u,[],!1,null,null,null);b.options.__file="src/components/coupon_pop/coupon_pop.vue";function _(t){var s=t.method||"get",r="";if(t.headers&&(r={Authorization:getname("SessionKey"),"Content-Type":"application/json; charset=utf-8"}),openapp){var e={};return"get"==s?e={values:t.data}:"post"==s&&(e={body:t.data}),new Promise(function(i,n){api.ajax({url:t.url,method:s,data:e,headers:r,dataType:t.dataType||"json"},function(t,e){t?i(t):("403"==e.statusCode&&(api.removePrefs({key:"SessionUserID"}),api.removePrefs({key:"SessionName"}),api.removePrefs({key:"SessionKey"}),api.removePrefs({key:"SessionShopID"}),api.setPrefs({key:"loginStatus",value:"loginFail"}),api.openWin({name:"login",url:api.wgtRootDir+"/login.html",bgColor:"#fff"})),"503"==e.statusCode?promptMsg("当前访问峰值过高，请稍候再试..."):promptMsg(e.Msg),n(e))})})}return"get"!=s?new Promise(function(e,i){axios({method:s,url:t.url,data:t.data||"",headers:r}).then(function(t){e(t.data)}).catch(function(t){i(t.response)})}):new Promise(function(e,i){axios({method:s,url:t.url,params:t.data||"",headers:r}).then(function(t){e(t.data)}).catch(function(t){i(t.response)})})}var k,w=b.exports,C={components:{specpop:h.a,coupon:w},props:{},data:function(){return{imgUrls:[],gbnum:0,price:0,oldPrice:0,msg:{},groupBuyList:{},timer:[],countDownTime:[],productDetail:"",showNum:!1,showMark:!1,showEnsure:!1,showPt:!1,ptData:{},ptDetailData:{},resobj:"",ptCount:null,shareNum:1,lndianaNum:1,isduobao:!1,hasJoin:!1,isDone:!1,uid:"",fxshopid:"",hasGet:"",unGet:"",spec:"",gbsku:"",showSpec:!1,showTips:!1,showCou:!1,orderid:"",openGroupbuy:0,groupCount:{hour:"00",minute:"00",second:"00",isDone:!1,show:!1,text:""},proearn:0,gbearn:0}},watch:{},filters:{toFixed:function(t){return(t=Number(t)).toFixed(2)}},computed:{outTime:function(){if(!this.isduobao)return!1;var t=!1;return 3!=this.msg.state&&4!=this.msg.state||(t=!0),this.hasJoin&&(t=!0),t},ptAvatar:function(){return 3<this.resobj.length+this.ptCount.length},showCoupon:function(){return getname()?getname()&&(this.hasGet||this.unGet)?"1":"2":"0"}},methods:{getlndianaProMsg:function(){showLoading(),https({url:siteUrl+"Marketing/Cloudbuy/GetOneCloudShoppingSet",method:"get",data:{cloudid:pageParam("cloudid"),userid:getname()},successBack:this.lndianaSuccessBack})},lndianaSuccessBack:function(t){if(hideLoading(),t.success&&1==t.status){var e=t.Data[0],i=[];e.imglist.length?e.imglist.forEach(function(t){return i.push(t.imgvalue)}):i.push(e.proimg),this.productDetail=e.details,document.getElementById("pd").innerHTML=e.details,this.msg=e,this.price=e.cloudPrice,this.oldPrice=e.proprice}else promptMsg(t.err);this.isDone=!0},isJoin:function(){var e=this;getname()&&"loginSuccess"==getname("loginStatus")&&https({url:siteUrl+"Marketing/Cloudbuy/IsPayCloud?uid="+getname(),method:"post",data:{uid:getname(),cloudid:pageParam("cloudid"),buycount:0},headers:1,successBack:function(t){t.success&&20==t.status&&(e.hasJoin=!0)}})},showLndiana:function(t){1==t?(this.showNum=!1,this.showMark=!1,this.showEnsure=!1,this.showSpec=!1,this.showCou=!1,this.showPt=!1,this.ptDetailData={},this.showTips=!1,this.lndianaNum=""==this.lndianaNum?1:0==this.lndianaNum?1:this.lndianaNum):(this.showNum=!this.showNum,this.showMark=!this.showMark)},inputHandle:function(t){var e=t.target.value;if(null!=/^[1-9]\d*|0$/.exec(e)){if(e>this.msg.max)return promptMsg("购买数量不能大于"+this.msg.max),void(this.lndianaNum=this.msg.max);if(e>this.msg.remainingamout)return promptMsg("购买数量不能大于"+this.msg.remainingamout),void(this.lndianaNum=this.msg.remainingamout);this.lndianaNum=e}},lndianaCount:function(t){this.msg.patern&&("add"==t?(this.lndianaNum=parseInt(this.lndianaNum)+1,this.lndianaNum=this.lndianaNum>this.msg.remainingamout?this.msg.remainingamout:this.lndianaNum,this.lndianaNum=this.lndianaNum>this.msg.max?this.msg.max:this.lndianaNum):(this.lndianaNum=parseInt(this.lndianaNum)-1,this.lndianaNum=this.lndianaNum<1?1:this.lndianaNum))},confirmLogin:function(){var e=this;if(this.showNum=!1,this.showMark=!1,checkLoginStatus())return this.lndianaNum<=0?promptMsg("购买数量不能小于1"):!this.msg.patern&&1<this.lndianaNum?promptMsg("购买数量不能大于1"):void https({url:siteUrl+"Marketing/Cloudbuy/IsPayCloud?uid="+getname(),method:"post",data:{uid:getname(),cloudid:pageParam("cloudid"),buycount:this.lndianaNum},headers:1,successBack:function(t){if(e.showNum=!1,t.success&&1==t.status){if(e.lndianaNum>t.Data.max)return promptMsg("购买数量不能大于"+t.Data.max);if(e.lndianaNum>t.Data.remainingamout)return promptMsg("购买数量不能大于"+t.Data.remainingamout);e.toShare()}else promptMsg(t.err)}})},toShare:function(){openWin({name:"ordercomfirm",url:"./ordercomfirm.html",pageParam:{cid:pageParam("cloudid"),num:this.lndianaNum,pName:this.msg.proname,title:"订单确认",way:"lndiana"}},1)},getProductMsg:function(t){https({url:siteUrl+"Main/Main/GetProductDetailJson",data:{productId:t||pageParam("pid"),gbid:pageParam("gbid"),userid:getname(),fxshopid:getname("SessionShopID")},successBack:this.msgSuccessBack})},msgSuccessBack:function(t){if(t.success&&1==t.status){var e=t.Data;this.msg=e,this.oldPrice=e.saleprice,this.productDetail=e.description,this.proearn=e.commPrice,document.getElementById("pd").innerHTML=e.description,this.imgUrls=JSON.parse(e.album).piclist||[e.pic],e.openspec&&this.getSpec()}else promptMsg(t.err);this.isDone=!0},openEnsure:function(){this.showMark=!0,this.showEnsure=!0},getGroupBuyList:function(){var s=this;https({url:siteUrl+"Main/Main/GetGroupBuyProJson",data:{gbid:pageParam("gbid"),uid:getname(),ogid:"",fxshopid:getname("SessionShopID")},successBack:function(t){if(t.success&&1==t.status){s.getProductMsg(t.Data.gbproid),s.price=t.Data.gbprice,s.gbnum=t.Data.gbnum,s.groupBuyList=t.Data,s.gbearn=t.Data.gbearn;for(var e=s,i=0;i<t.Data.gblist.length;i++){var n=t.Data.gblist[i].ts-t.Data.gblist[i].tpgap;n<0||(t.Data.gblist[i].countDownTime=null,e.countLastTimes(n,i))}s.getCouMsg(),s.getGroupTime()}else promptMsg(t.err)}})},getGroupTime:function(){var t=this.groupBuyList.starttime,e=this.groupBuyList.endtime,i=Date.now(),n=Number(Number(t)-Number(i))/1e3,s=Number(Number(e)-Number(i))/1e3;0<n?this.count(n,1):this.count(s,2)},count:function(t,e){var o=t,a=this,u=e;window.timer=null,window.timer=setInterval(function(){var t=0,e=0,i=0,n=0,s=!1,r="";r=1==u?"距离活动开始":"距离活动结束",0<o&&(t=Math.floor(o/86400),e=Math.floor(o/3600)-24*t,i=Math.floor(o/60)-24*t*60-60*e,n=Math.floor(o)-24*t*60*60-60*e*60-60*i),(e=24*Number(t)+Number(e))<=9&&(e="0"+e),i<=9&&(i="0"+i),n<=9&&(n="0"+n),o<=0&&(1==u?(clearInterval(window.timer),window.timer=null,a.getGroupTime()):(clearInterval(window.timer),s=!(window.timer=null))),a.groupCount={day:t,hour:e,minute:i,second:n,isDone:s,show:!0,text:r},o--,a.$forceUpdate()},1e3)},getSpec:function(){var i=this;https({url:siteUrl+"Main/Main/GetProductSkuJson",data:{productId:this.groupBuyList.gbproid,gbid:pageParam("gbid"),fxshopid:getname("SessionShopID")},successBack:function(t){if(t)if(t.success&&1==t.status){var e=t.Data;i.price=e.gbsku[0].gbskuPrice,i.gbearn=e.gbsku[0].gbearn,i.proearn=i.msg.skuobj[0].savemoney,i.spec=e.spec,i.gbsku=e.gbsku}else promptMsg(t.err);else promptMsg(err.Msg)}})},countLastTimes:function(t,e){var r=this,o=t,a=e,u=this;this.timer[e]=setInterval(function(){(o-=1)<0&&(r.groupBuyList.gblist[a]=null,clearInterval(u.timer[a]));var t=Math.floor(o/60/60/24),e=Math.floor(o/60/60%24),i=Math.floor(o/60%60),n=Math.floor(o%60),s="";t&&(s+=t+"天"),e&&(s+=(e=e<10?"0"+e:e)+":"),(i=i<10?"0"+i:i)&&(s+=i+":"),s+=n=n<10?"0"+n:n,u.countDownTime[a]=s,u.$forceUpdate()},1e3)},openGroup:function(t,o){var a=this;if(t){openWin({name:"groupbuyDetail",url:"./group_detail.html",useWKWebView:!0,pageParam:{title:"拼团详情",orderid:this.groupBuyList.gblist[o].orderidlist[0].orderid}},1)}else this.ptDetailData={},this.ptData=this.groupBuyList.gblist[o],https({url:siteUrl+"Marketing/Groupbuy/GetMyGroupbuyDetails",data:{ogid:this.ptData.opengroupid,uid:getname()},successBack:function(t){if(t.success&&1==t.status){var e=t.Data[0];if(e.orderid=a.groupBuyList.gblist[o].opengroupid,1<(a.ptDetailData=e).resobj.length){var i=a;a.resobj=[];for(var n=e.resobj,s=1;s<n.length;s++)i.resobj.push(n[s])}a.showMark=!0,a.showPt=!0,a.ptCount=[];i=a;for(var r=0;r<e.count;r++)i.ptCount.push(r)}else promptMsg(t.err)}})},goGroupDetail:function(t,e){var i=!1;e||this.groupBuyList.gblist.forEach(function(t){t.isingroup&&(i=!0)});if(i)return promptMsg("您有尚未结束的拼团活动");checkLoginStatus()&&this.groupbuy(this.ptDetailData.orderid),this.showPt=!1},buyNow:function(){if(this.groupBuyList.gbproid="")return promptMsg("商品不存在");this.openGroupbuy=0,this.showSpec=!0,this.showMark=!0},groupbuy:function(t){if(checkLoginStatus()){if(this.groupBuyList.gbproid="")return promptMsg("商品不存在");if(""==this.groupBuyList.gbid)return promptMsg("团购已不存在");var e="";t&&""!=t&&(e=t),this.showTips=!1,this.openGroupbuy=1,this.showSpec=!0,this.showMark=!0,this.orderid=e}},goGblist:function(){openWin({name:"gblist"+pageParam("gbid"),url:"./gblist.html",pageParam:{title:"拼团列表",gbid:pageParam("gbid")},bgColor:"#f5f5f5"},1)},checkGB:(k=d()(p.a.mark(function t(){var e,i;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this,t.prev=1,t.next=4,_({url:siteUrl+"Main/Shopping/CheckGroupBuyStatus?devicetype=7",data:{uid:getname(),gbid:pageParam("gbid")},headers:1});case 4:if((e=t.sent).success&&1==e.status){t.next=7;break}throw e;case 7:return t.next=9,_({url:siteUrl+"Marketing/Groupbuy/IsHasGroupbuy",data:{gbid:pageParam("gbid")}});case 9:(i=t.sent).success&&1==i.status&&(i.IsHas?(this.showMark=!0,this.showTips=!0):this.groupbuy()),t.next=15;break;case 13:t.prev=13,t.t0=t.catch(1);case 15:case"end":return t.stop()}},t,this,[[1,13]])})),function(){return k.apply(this,arguments)}),changMsg:function(i){var n=this,t=this.msg.skuobj,s=this.gbsku;t.forEach(function(t,e){t.skuid==i.skuid&&(n.price=s[e].gbskuPrice,n.oldPrice=t.saleprice,n.proearn=n.msg.skuobj[e].savemoney,n.gbearn=s[e].gbearn)})},imgErr:function(t){this.groupBuyList.gblist[t].imgphoto="/img/man.jpg"},onshare:function(){var t=this;checkLoginStatus()&&(this.isduobao?openapp?api.openFrame({name:"marketing_shaerdiv",url:"./marketing_shaerdiv.html",rect:{x:0,y:0,w:"auto",h:"auto"},pageParam:{data:t.msg,userData:t.userData,way:"lndiana",cloudid:pageParam("cloudid"),buycount:pageParam("buycount"),detail:1},bounces:!1,bgColor:"rgba(0,0,0,0)"}):openWin({name:"marketing_shaerdiv",url:"./marketing_shaerdiv.html",pageParam:{data:t.msg,userData:t.userData,way:"lndiana",cloudid:pageParam("cloudid"),buycount:pageParam("buycount"),detail:1}}):(this.msg.gbprice=this.groupBuyList.gbprice,this.msg.productprice=this.groupBuyList.proprice,openapp?api.openFrame({name:"marketing_shaerdiv",url:"./marketing_shaerdiv.html",rect:{x:0,y:0,w:"auto",h:"auto"},pageParam:{data:t.msg,gbid:pageParam("gbid"),detail:1},bounces:!1,bgColor:"rgba(0,0,0,0)"}):openWin({name:"marketing_shaerdiv",url:"./marketing_shaerdiv.html",pageParam:{data:t.msg,gbid:pageParam("gbid"),detail:1}})))},openCoupon:function(){checkLoginStatus()&&(this.showCou=!0)},getCouMsg:function(){var s=this;https({url:siteUrl+"Marketing/Coupon/GetCouponListJson",data:{uid:getname(),ispaltform:3,gbid:pageParam("gbid"),comid:this.msg.companyid,isgb:"true"},successBack:function(t){if(t.success&&1==t.status){var e=t.Data;if(e.length){var i=[],n=[];e.forEach(function(t){!t.isover&&0<t.eachamount-t.getnum?n.push(t):i.push(t)}),i.length||(i=""),n.length||(n=""),s.hasGet=i,s.unGet=n}}}})},gogongshang:function(){openWin({name:"commerce",url:"./commerce.html",pageParam:{img:this.msg.blurl,title:"工商资质"}})}},created:function(){pageParam("cloudid")&&(this.isduobao=!0),this.uid=getname(),this.fxshopid=getname("SessionShopID")},mounted:function(){var t=getname("safeAreaBottom")||0;document.getElementById("footer").style.paddingBottom=t+"px",document.getElementById("count").style.paddingBottom=t+"px";document.getElementById("gs");document.getElementById("app").style.paddingBottom=t+"px";var e=this;e.isduobao&&(e.getlndianaProMsg(),e.isJoin()),e.isduobao||e.getGroupBuyList()}},x=(i(168),Object(y.a)(C,n,[],!1,null,null,null));x.options.__file="src/page/new_lndianaDetail/new_lndianaDetail.vue";var S=x.exports,L=i(6),P=i.n(L);a.a.use(P.a,{throttleWait:200,error:"./image/bkg_cover.jpg",loading:"./image/bkg_cover.jpg"}),a.a.use(s.a).use(r.a);openapp?window.apiready=function(){new a.a({render:function(t){return t(S)}}).$mount("#app")}:new a.a({render:function(t){return t(S)}}).$mount("#app")},22:function(t,e,i){t.exports=i.p+"img/nodata.png"},23:function(t,e,i){"use strict";i(5),i(24)},24:function(t,e,i){},25:function(t,e,i){"use strict";i(5),i(26)},26:function(t,e,i){},3:function(t,e,i){"use strict";i.d(e,"b",function(){return o}),i.d(e,"a",function(){return a});var s=i(1),r=!1;if(!s.e)try{var n={};Object.defineProperty(n,"passive",{get:function(){r=!0}}),window.addEventListener("test-passive",null,n)}catch(t){}function o(t,e,i,n){void 0===n&&(n=!1),s.e||t.addEventListener(e,i,!!r&&{capture:!1,passive:n})}function a(t,e,i){s.e||t.removeEventListener(e,i)}},30:function(t,e,i){t.exports=i.p+"img/hui.png"},31:function(t,e,i){},33:function(t,e){t.exports=function(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}},40:function(t,e,i){"use strict";function n(){var s=this,t=s.$createElement,r=s._self._c||t;return r("div",[r("div",{staticClass:"sku_prompt_content"},[r("div",[r("div",{staticClass:"flex sku_prompt_top overflow_boxsizing"},[r("div",{staticClass:"box_proimg_container"},[r("img",{attrs:{src:s.msg.pic}})]),s._v(" "),r("div",{staticClass:"flex_1 flex flex_v flex_pack_justify_between sku_top_right"},[r("div",{staticClass:"color_333 fs_14 line_over_2 l"},[r("span",[s._v(s._s(s.msg.name))])]),s._v(" "),r("div",{staticClass:"flex flex_align_center"},[r("div",{staticClass:"new_price_container"},[s._v("￥\r\n                  "),r("span",{staticClass:"new_price"},[s._v(s._s(s._f("toFixed")(s.price*s.buyCount)))]),s._v(" "),r("span",{staticClass:"fs_14 color_999"},[s._v(" ￥"+s._s(s._f("toFixed")(s.oldPrice*s.buyCount)))])])])])]),s._v(" "),r("div",{staticClass:"conBox"},s._l(s.spec,function(t,n){return r("div",{key:n,staticClass:"con"},[r("p",[s._v(s._s(t.specname))]),s._v(" "),r("div",s._l(t.spectext,function(e,i){return r("span",{key:i,staticClass:"btn_sku",class:s.bindClass(n,i),on:{click:function(t){return s.changSku(e.valueid,n,i)}}},[s._v(s._s(e.ctmtext))])}),0)])}),0)]),s._v(" "),r("div",{ref:"foot",staticClass:"btnBox flex flex_pack_center flex_align_center fs_14 overflow_boxsizing b"},[r("div",{directives:[{name:"show",rawName:"v-show",value:!s.isgroupbuy,expression:"!isgroupbuy"}],staticClass:"btn_addCart",on:{click:s.groupbuynow}},[r("span",[s._v("直接买")])]),s._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:s.isgroupbuy,expression:"isgroupbuy"}],staticClass:"btn_buy gradient",on:{click:s.gogroupbuy}},[r("span",[s._v("拼团购")])])])])])}n._withStripped=!0;var s={components:{},props:{pid:{type:String,required:!1},gbid:{type:String,required:!1},orderid:{type:String,required:!1},gbPrice:{type:Number,required:!1},gbskuid_prop:{type:String,required:!1},openGroupbuy:{type:Number,required:!1},isopenshop:{type:Boolean,required:!1},packageid:{type:String,required:!1}},data:function(){return{isgroupbuy:!1,groupbuyid:"",stocks:0,msg:"",productid:this.$props.pid,price:0,oldPrice:0,spec:"",sku:"",gbsku:"",rushsku:"",specval:"",skuid:"",gbskuid:"",skutext:"",buyCount:1,minBuyCount:0,maxBuyCount:0,uid:getname(),fxshopid:getname("SessionShopID")}},watch:{pid:function(t){this.getProMsg()},gbid:function(t){this.groupbuyid=t},openGroupbuy:function(t){var i=this;0==(this.isgroupbuy=t)?this.msg.openspec?this.sku.forEach(function(t,e){t.skuid==i.skuid&&(i.price=i.sku[e].saleprice,i.oldPrice=i.sku[e].marketprice)}):(this.price=this.msg.saleprice,this.oldPrice=Number(this.msg.marketingprice)):t&&this.gbsku&&""!=this.gbsku?this.sku.forEach(function(t,e){t.skuid==i.skuid&&(i.price=i.gbsku[e].gbskuPrice,i.oldPrice=i.sku[e].saleprice)}):t?(this.price=this.$props.gbPrice,this.oldPrice=this.msg.saleprice):this.sku?this.sku.forEach(function(t,e){t.skuid==i.skuid&&(i.price=t.saleprice)}):this.price=this.msg.saleprice}},filters:{toFixed:function(t){return t?Number(t).toFixed(2):"0.00"}},computed:{},created:function(){},mounted:function(){var t=this.$refs.foot,e=getname("safeAreaBottom")||0;t.style.paddingBottom=Number(e)+"px"},methods:{getProMsg:function(){var i=this;this.groupbuyid=this.$props.gbid,https({url:siteUrl+"Main/Main/GetProductDetailJson",method:"get",data:{productId:this.$props.pid,gbid:this.$props.gbid,userid:this.uid,fxshopid:this.fxshopid},successBack:function(t){if(t)if(t.success&&1==t.status){var e=t.Data;0<(i.msg=e).propackageprice?i.price=e.propackageprice:e.isrushbuy?(i.rushsku=JSON.parse(e.rushbuy.specjson),i.price=JSON.parse(e.rushbuy.specjson)[0].Price):i.price=e.saleprice,i.minBuyCount=e.minbuycount,i.maxBuyCount=e.maxbuycount,i.stocks=e.stock,e.openspec&&i.getMsg()}else prompt(t.err);else promptMsg(err.Msg)}})},getMsg:function(){var i=this;https({url:siteUrl+"Main/Main/GetProductSkuJson",data:{productId:this.$props.pid,gbid:this.$props.gbid||"",fxshopid:getname("SessionShopID")},successBack:function(t){if(t.success&&1==t.status){var e=t.Data;i.sku=e.sku,i.gbsku=e.gbsku,e.spec.map(function(t){t.spectext=JSON.parse(t.spectext)}),i.$props.isopenshop?i.price=e.sku[0].packageprice:i.msg.isrushbuy||(i.price=e.sku[0].saleprice),i.spec=e.spec,i.skutext=e.sku[0].skutext,i.specval=e.sku[0].specval,i.skuid=e.sku[0].skuid,i.stocks=e.sku[0].stock,i.gbskuid=e.gbsku?e.gbsku[0].gbroductskuid:""}}})},changSku:function(t,e,i){var n=this,s=this,r=this.specval.split(",");r[e]=t,this.specval=r.toString(),this.sku.forEach(function(t,e){var i="";i=s.$props.isopenshop?Number(n.sku[e].packageprice).toFixed(2):n.isgroupbuy?Number(n.gbsku[e].gbskuPrice).toFixed(2):Number(n.sku[e].saleprice).toFixed(2),t.specval==n.specval&&(n.skuid=n.sku[e].skuid,n.gbskuid=n.isgroupbuy?n.gbsku[e].gbroductskuid:"",n.specval=n.sku[e].specval,n.skutext=n.sku[e].skutext,n.price=i,n.stocks=n.sku[e].stock)});for(var o=document.getElementsByClassName("sku"+e),a=0;a<o.length;a++)o[a].classList.remove("select"),a==i&&o[a].classList.add("select");this.$emit("changeData",{skutext:this.skutext,buyCount:this.buyCount,skuid:this.skuid})},changCount:function(t){if(!this.$props.gbid){var e=t,i=this.maxBuyCount,n=this.minBuyCount,s=this.stocks,r=this.buyCount;(-1!=e||(0===n||n<r)&&1<r)&&(1!=e||0===i&&r<s||r<i&&r<s)&&(this.buyCount=this.buyCount+e,this.msg.openspec&&this.$emit("changeData",{skutext:this.skutext,buyCount:this.buyCount,skuid:this.skuid}))}},addCar:function(){var e=this;if(checkLoginStatus()){if(!e.$props.pid)return promptMsg("商品不存在");if(null==e.buyCount||""==e.buyCount||e.buyCount<1)return void promptMsg("请输入正确的数量");if(e.msg.openspec&&(""==e.skutext||""==e.skuid||""==e.price||""==e.specval))return void promptMsg("请选择正确的规格");if(e.$props.isopenshop)return void addopencar();https({url:siteUrl+"Main/Shopping/AddCart?uid="+getname(),method:"post",data:{pId:e.$props.pid,qty:e.buyCount,uid:getname(),valids:e.msg.openspec?e.specval:"",rushbuyid:e.msg.isrushbuy?e.msg.rushbuy.rushbuyid:""},headers:1,successBack:function(t){t.success?1==t.status?(promptMsg("添加成功,请到购物车查看"),e.$emit("shopcarNum")):promptMsg(t.err):checkLoginStatus()&&promptMsg(err.msg)}})}},addopencar:function(){var i=this;https({method:"post",url:siteUrl+"Main/PackageShopping/AddCart?uid="+i.uid,data:{qty:i.buyCount,packageid:api.pageParam.packageid,uid:window.api?api.getPrefs({sync:!0,key:"SessionUserID"}):$api.getStorage("SessionUserID"),valids:i.specval},headers:1,successBack:function(t){if(t.success&&1==t.status){var e=i.$props.packageid?"购物袋":"购物车";promptMsg("添加成功,请到"+e+"查看"),i.$emit("shopcarNum")}else promptMsg(t.err)}})},buyNow:function(){var e=this;if(checkLoginStatus()){if(!e.$props.pid)return promptMsg("商品不存在");if(null==e.buyCount||""==e.buyCount||e.buyCount<1)return void promptMsg("请输入正确的数量");if(e.msg.openspec&&(""==e.skutext||""==e.skuid||""==e.price||""==e.specval))return void promptMsg("请选择正确的规格");if(e.msg.isrushbuy&&e.msg.rushbuy.begintimeticks>this.msg.nowtimetick)return void promptMsg("抢购活动尚未开始，请先加入购物车");https({url:siteUrl+"Main/Shopping/CheckProductBuyStatus?devicetype=7",method:"get",data:{uid:window.api?api.getPrefs({sync:!0,key:"SessionUserID"}):$api.getStorage("SessionUserID"),pid:e.$props.pid,buycount:e.buyCount,skuid:e.skuid,rushbuyid:""},headers:1,successBack:function(t){t.success&&1==t.status?openWin({name:"ordercomfirm",url:"./ordercomfirm.html",pageParam:{way:"buynow",qty:e.buyCount,skutext:e.skutext,skuid:e.skuid,gbskuid:e.gbskuid,skuprice:e.price,pid:e.$props.pid,rushbuyid:e.msg.isrushbuy?e.msg.rushbuy.rushbuyid:"",title:"订单确认"}},1):promptMsg(t.err)}})}},buyopennow:function(i){var n=this,s=this;https({url:siteUrl+"Main/PackageShopping/CheckPackageBuyStatus",data:{uid:window.api?api.getPrefs({sync:!0,key:"SessionUserID"}):$api.getStorage("SessionUserID"),packageid:s.$props.packageid||"",buycount:i,skuid:s.skuid},headers:1,successBack:function(t){if(t.success&&1==t.status){var e=[];e.push({PackageID:s.$props.packageid,BuyCount:i,SkuID:n.skuid,CompanyID:s.msg.companyid}),openWin({name:"packageordercomfirm",url:"./packageordercomfirm.html",pageParam:{packageselectdata:e,type:1,skuprice:s.price}})}else promptMsg(t.err)}})},bindClass:function(t,e){return 0==e?"sku"+t+" select":"sku"+t},gogroupbuy:function(){var e=(i=this).$props.orderid?i.$props.orderid:"";if(checkLoginStatus()){var i=this;https({url:siteUrl+"Main/Shopping/CheckGroupBuyStatus?devicetype=7",method:"get",data:{uid:getname(),gbid:i.$props.gbid},headers:1,successBack:function(t){1==t.status&&t.success?i.gbsku?openWin({name:"ordercomfirm",url:"./ordercomfirm.html",pageParam:{way:"groupbuynow",qty:1,skutext:i.skutext,skuid:i.skuid,gbskuid:i.gbskuid,gbprice:i.price,pid:i.msg.productid,gbid:i.$props.gbid,opengroupid:e,title:"订单确认",headfree:i.msg.headfree?1:0}},1):openWin({name:"ordercomfirm",url:"./ordercomfirm.html",pageParam:{way:"groupbuynow",qty:1,skutext:"",skuid:i.$props.gbskuid_prop,gbprice:i.price,pid:i.msg.productid,gbid:i.$props.gbid,opengroupid:e,title:"订单确认",headfree:i.msg.headfree?1:0}},1):promptMsg(t.err)}})}},groupbuynow:function(){if(checkLoginStatus()){var i=this;https({url:siteUrl+"Main/Shopping/CheckProductBuyStatus?devicetype=7",method:"get",data:{uid:getname(),pid:i.msg.productid,buycount:i.buyCount},headers:1,successBack:function(t){if(t.success&&1==t.status){var e="";e=i.gbsku?i.skuid:i.$props.gbskuid,openWin({name:"ordercomfirm",url:"./ordercomfirm.html",pageParam:{way:"buynow",qty:1,pid:i.msg.productid,skuid:e,skutext:i.skutext,skuprice:i.price,title:"订单确认"}},1)}else promptMsg(t.err)}})}}}},r=(i(94),i(2)),o=Object(r.a)(s,n,[],!1,null,"7652ebfd",null);o.options.__file="src/components/specpop/specpop.vue";e.a=o.exports},5:function(t,e,i){},6:function(t,e,i){
/*!
 * Vue-Lazyload.js v1.2.6
 * (c) 2018 Awe <hilongjw@gmail.com>
 * Released under the MIT License.
 */
t.exports=function(){"use strict";function o(t){t=t||{};var e=arguments.length,i=0;if(1===e)return t;for(;++i<e;){var n=arguments[i];d(t)&&(t=n),a(n)&&s(t,n)}return t}function s(t,e){for(var i in h(t,e),e)if("__proto__"!==i&&(s=e,r=i,Object.prototype.hasOwnProperty.call(s,r))){var n=e[i];a(n)?("undefined"===f(t[i])&&"function"===f(n)&&(t[i]=n),t[i]=o(t[i]||{},n)):t[i]=n}var s,r;return t}function a(t){return"object"===f(t)||"function"===f(t)}function r(t,e){if(t.length){var i=t.indexOf(e);return-1<i?t.splice(i,1):void 0}}function l(t,e){if("IMG"===t.tagName&&t.getAttribute("data-srcset")){var i=t.getAttribute("data-srcset"),n=[],s=t.parentNode,r=s.offsetWidth*e,o=void 0,a=void 0,u=void 0;(i=i.trim().split(",")).map(function(t){t=t.trim(),o=t.lastIndexOf(" "),u=-1===o?(a=t,999998):(a=t.substr(0,o),parseInt(t.substr(o+1,t.length-o-2),10)),n.push([u,a])}),n.sort(function(t,e){if(t[0]<e[0])return-1;if(t[0]>e[0])return 1;if(t[0]===e[0]){if(-1!==e[1].indexOf(".webp",e[1].length-5))return 1;if(-1!==t[1].indexOf(".webp",t[1].length-5))return-1}return 0});for(var c="",p=void 0,l=n.length,d=0;d<l;d++)if((p=n[d])[0]>=r){c=p[1];break}return c}}function u(t,e){for(var i=void 0,n=0,s=t.length;n<s;n++)if(e(t[n])){i=t[n];break}return i}function p(){}var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}(),d=function(t){return null==t||"function"!=typeof t&&"object"!==(void 0===t?"undefined":c(t))},h=function(t,e){if(null==t)throw new TypeError("expected first argument to be an object.");if(void 0===e||"undefined"==typeof Symbol)return t;if("function"!=typeof Object.getOwnPropertySymbols)return t;for(var i=Object.prototype.propertyIsEnumerable,n=Object(t),s=arguments.length,r=0;++r<s;)for(var o=Object(arguments[r]),a=Object.getOwnPropertySymbols(o),u=0;u<a.length;u++){var c=a[u];i.call(o,c)&&(n[c]=o[c])}return n},i=Object.prototype.toString,f=function(t){var e=void 0===t?"undefined":c(t);return"undefined"===e?"undefined":null===t?"null":!0===t||!1===t||t instanceof Boolean?"boolean":"string"===e||t instanceof String?"string":"number"===e||t instanceof Number?"number":"function"===e||t instanceof Function?void 0!==t.constructor.name&&"Generator"===t.constructor.name.slice(0,9)?"generatorfunction":"function":void 0!==Array.isArray&&Array.isArray(t)?"array":t instanceof RegExp?"regexp":t instanceof Date?"date":"[object RegExp]"===(e=i.call(t))?"regexp":"[object Date]"===e?"date":"[object Arguments]"===e?"arguments":"[object Error]"===e?"error":"[object Promise]"===e?"promise":function(t){return t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}(t)?"buffer":"[object Set]"===e?"set":"[object WeakSet]"===e?"weakset":"[object Map]"===e?"map":"[object WeakMap]"===e?"weakmap":"[object Symbol]"===e?"symbol":"[object Map Iterator]"===e?"mapiterator":"[object Set Iterator]"===e?"setiterator":"[object String Iterator]"===e?"stringiterator":"[object Array Iterator]"===e?"arrayiterator":"[object Int8Array]"===e?"int8array":"[object Uint8Array]"===e?"uint8array":"[object Uint8ClampedArray]"===e?"uint8clampedarray":"[object Int16Array]"===e?"int16array":"[object Uint16Array]"===e?"uint16array":"[object Int32Array]"===e?"int32array":"[object Uint32Array]"===e?"uint32array":"[object Float32Array]"===e?"float32array":"[object Float64Array]"===e?"float64array":"object"},g=o,y="undefined"!=typeof window,n=y&&"IntersectionObserver"in window,b={event:"event",observer:"observer"},_=function(){function t(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var i=document.createEvent("CustomEvent");return i.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),i}if(y)return"function"==typeof window.CustomEvent?window.CustomEvent:(t.prototype=window.Event.prototype,t)}(),v=function(){if(y){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e)}catch(t){}return t}}(),k={on:function(t,e,i){var n=3<arguments.length&&void 0!==arguments[3]&&arguments[3];v?t.addEventListener(e,i,{capture:n,passive:!0}):t.addEventListener(e,i,n)},off:function(t,e,i){var n=3<arguments.length&&void 0!==arguments[3]&&arguments[3];t.removeEventListener(e,i,n)}},w=function(t,e,i){var n=new Image;n.src=t.src,n.onload=function(){e({naturalHeight:n.naturalHeight,naturalWidth:n.naturalWidth,src:n.src})},n.onerror=function(t){i(t)}},C=function(t,e){return"undefined"!=typeof getComputedStyle?getComputedStyle(t,null).getPropertyValue(e):t.style[e]},x={},S=function(){function c(t){var e=t.el,i=t.src,n=t.error,s=t.loading,r=t.bindType,o=t.$parent,a=t.options,u=t.elRenderer;m(this,c),this.el=e,this.src=i,this.error=n,this.loading=s,this.bindType=r,this.attempt=0,this.naturalHeight=0,this.naturalWidth=0,this.options=a,this.rect=null,this.$parent=o,this.elRenderer=u,this.performanceData={init:Date.now(),loadStart:0,loadEnd:0},this.filter(),this.initState(),this.render("loading",!1)}return t(c,[{key:"initState",value:function(){"dataset"in this.el?this.el.dataset.src=this.src:this.el.setAttribute("data-src",this.src),this.state={error:!1,loaded:!1,rendered:!1}}},{key:"record",value:function(t){this.performanceData[t]=Date.now()}},{key:"update",value:function(t){var e=t.src,i=t.loading,n=t.error,s=this.src;this.src=e,this.loading=i,this.error=n,this.filter(),s!==this.src&&(this.attempt=0,this.initState())}},{key:"getRect",value:function(){this.rect=this.el.getBoundingClientRect()}},{key:"checkInView",value:function(){return this.getRect(),this.rect.top<window.innerHeight*this.options.preLoad&&this.rect.bottom>this.options.preLoadTop&&this.rect.left<window.innerWidth*this.options.preLoad&&0<this.rect.right}},{key:"filter",value:function(){var e=this;(function(t){if(!(t instanceof Object))return[];if(Object.keys)return Object.keys(t);var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(i);return e})(this.options.filter).map(function(t){e.options.filter[t](e,e.options)})}},{key:"renderLoading",value:function(e){var i=this;w({src:this.loading},function(t){i.render("loading",!1),e()},function(){e(),i.options.silent})}},{key:"load",value:function(){var e=this,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:p;return this.attempt>this.options.attempt-1&&this.state.error?(this.options.silent,void i()):this.state.loaded||x[this.src]?(this.state.loaded=!0,i(),this.render("loaded",!0)):void this.renderLoading(function(){e.attempt++,e.record("loadStart"),w({src:e.src},function(t){e.naturalHeight=t.naturalHeight,e.naturalWidth=t.naturalWidth,e.state.loaded=!0,e.state.error=!1,e.record("loadEnd"),e.render("loaded",!1),x[e.src]=1,i()},function(t){e.options.silent,e.state.error=!0,e.state.loaded=!1,e.render("error",!1)})})}},{key:"render",value:function(t,e){this.elRenderer(this,t,e)}},{key:"performance",value:function(){var t="loading",e=0;return this.state.loaded&&(t="loaded",e=(this.performanceData.loadEnd-this.performanceData.loadStart)/1e3),this.state.error&&(t="error"),{src:this.src,state:t,time:e}}},{key:"destroy",value:function(){this.el=null,this.src=null,this.error=null,this.loading=null,this.bindType=null,this.attempt=0}}]),c}(),L="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",P=["scroll","wheel","mousewheel","resize","animationend","transitionend","touchmove"],M={rootMargin:"0px",threshold:0},D=function(p){return function(){function v(t){var e=t.preLoad,i=t.error,n=t.throttleWait,s=t.preLoadTop,r=t.dispatchEvent,o=t.loading,a=t.attempt,u=t.silent,c=void 0===u||u,p=t.scale,l=t.listenEvents,d=(t.hasbind,t.filter),h=t.adapter,f=t.observer,g=t.observerOptions;m(this,v),this.version="1.2.6",this.mode=b.event,this.ListenerQueue=[],this.TargetIndex=0,this.TargetQueue=[],this.options={silent:c,dispatchEvent:!!r,throttleWait:n||200,preLoad:e||1.3,preLoadTop:s||0,error:i||L,loading:o||L,attempt:a||3,scale:p||function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;return y&&window.devicePixelRatio||t}(p),ListenEvents:l||P,hasbind:!1,supportWebp:function(){if(!y)return!1;var t=!0,e=document;try{var i=e.createElement("object");i.type="image/webp",i.style.visibility="hidden",i.innerHTML="!",e.body.appendChild(i),t=!i.offsetWidth,e.body.removeChild(i)}catch(e){t=!1}return t}(),filter:d||{},adapter:h||{},observer:!!f,observerOptions:g||M},this._initEvent(),this.lazyLoadHandler=function(s,r){var o=null,a=0;return function(){if(!o){var t=Date.now()-a,e=this,i=arguments,n=function(){a=Date.now(),o=!1,s.apply(e,i)};r<=t?n():o=setTimeout(n,r)}}}(this._lazyLoadHandler.bind(this),this.options.throttleWait),this.setMode(this.options.observer?b.observer:b.event)}return t(v,[{key:"config",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};g(this.options,t)}},{key:"performance",value:function(){var e=[];return this.ListenerQueue.map(function(t){e.push(t.performance())}),e}},{key:"addLazyBox",value:function(t){this.ListenerQueue.push(t),y&&(this._addListenerTarget(window),this._observer&&this._observer.observe(t.el),t.$el&&t.$el.parentNode&&this._addListenerTarget(t.$el.parentNode))}},{key:"add",value:function(n,s,r){var o=this;if(function(t,e){for(var i=!1,n=0,s=t.length;n<s;n++)if(e(t[n])){i=!0;break}return i}(this.ListenerQueue,function(t){return t.el===n}))return this.update(n,s),p.nextTick(this.lazyLoadHandler);var t=this._valueFormatter(s.value),a=t.src,u=t.loading,c=t.error;p.nextTick(function(){a=l(n,o.options.scale)||a,o._observer&&o._observer.observe(n);var t=Object.keys(s.modifiers)[0],e=void 0;t&&(e=(e=r.context.$refs[t])?e.$el||e:document.getElementById(t)),e||(e=function(t){if(y){if(!(t instanceof HTMLElement))return window;for(var e=t;e&&e!==document.body&&e!==document.documentElement&&e.parentNode;){if(/(scroll|auto)/.test(C(i=e,"overflow")+C(i,"overflow-y")+C(i,"overflow-x")))return e;e=e.parentNode}return window}var i}(n));var i=new S({bindType:s.arg,$parent:e,el:n,loading:u,error:c,src:a,elRenderer:o._elRenderer.bind(o),options:o.options});o.ListenerQueue.push(i),y&&(o._addListenerTarget(window),o._addListenerTarget(e)),o.lazyLoadHandler(),p.nextTick(function(){return o.lazyLoadHandler()})})}},{key:"update",value:function(e,t){var i=this,n=this._valueFormatter(t.value),s=n.src,r=n.loading,o=n.error;s=l(e,this.options.scale)||s;var a=u(this.ListenerQueue,function(t){return t.el===e});a&&a.update({src:s,loading:r,error:o}),this._observer&&(this._observer.unobserve(e),this._observer.observe(e)),this.lazyLoadHandler(),p.nextTick(function(){return i.lazyLoadHandler()})}},{key:"remove",value:function(e){if(e){this._observer&&this._observer.unobserve(e);var t=u(this.ListenerQueue,function(t){return t.el===e});t&&(this._removeListenerTarget(t.$parent),this._removeListenerTarget(window),r(this.ListenerQueue,t)&&t.destroy())}}},{key:"removeComponent",value:function(t){t&&(r(this.ListenerQueue,t),this._observer&&this._observer.unobserve(t.el),t.$parent&&t.$el.parentNode&&this._removeListenerTarget(t.$el.parentNode),this._removeListenerTarget(window))}},{key:"setMode",value:function(t){var e=this;n||t!==b.observer||(t=b.event),(this.mode=t)===b.event?(this._observer&&(this.ListenerQueue.forEach(function(t){e._observer.unobserve(t.el)}),this._observer=null),this.TargetQueue.forEach(function(t){e._initListen(t.el,!0)})):(this.TargetQueue.forEach(function(t){e._initListen(t.el,!1)}),this._initIntersectionObserver())}},{key:"_addListenerTarget",value:function(e){if(e){var t=u(this.TargetQueue,function(t){return t.el===e});return t?t.childrenCount++:(t={el:e,id:++this.TargetIndex,childrenCount:1,listened:!0},this.mode===b.event&&this._initListen(t.el,!0),this.TargetQueue.push(t)),this.TargetIndex}}},{key:"_removeListenerTarget",value:function(i){var n=this;this.TargetQueue.forEach(function(t,e){t.el===i&&(--t.childrenCount||(n._initListen(t.el,!1),n.TargetQueue.splice(e,1),t=null))})}},{key:"_initListen",value:function(e,i){var n=this;this.options.ListenEvents.forEach(function(t){return k[i?"on":"off"](e,t,n.lazyLoadHandler)})}},{key:"_initEvent",value:function(){var s=this;this.Event={listeners:{loading:[],loaded:[],error:[]}},this.$on=function(t,e){s.Event.listeners[t]||(s.Event.listeners[t]=[]),s.Event.listeners[t].push(e)},this.$once=function(e,i){var n=s;s.$on(e,function t(){n.$off(e,t),i.apply(n,arguments)})},this.$off=function(t,e){if(e)r(s.Event.listeners[t],e);else{if(!s.Event.listeners[t])return;s.Event.listeners[t].length=0}},this.$emit=function(t,e,i){s.Event.listeners[t]&&s.Event.listeners[t].forEach(function(t){return t(e,i)})}}},{key:"_lazyLoadHandler",value:function(){var e=this,i=[];this.ListenerQueue.forEach(function(t,e){if(!t.state.error&&t.state.loaded)return i.push(t);t.checkInView()&&t.load()}),i.forEach(function(t){return r(e.ListenerQueue,t)})}},{key:"_initIntersectionObserver",value:function(){var e=this;n&&(this._observer=new IntersectionObserver(this._observerHandler.bind(this),this.options.observerOptions),this.ListenerQueue.length&&this.ListenerQueue.forEach(function(t){e._observer.observe(t.el)}))}},{key:"_observerHandler",value:function(t,e){var i=this;t.forEach(function(e){e.isIntersecting&&i.ListenerQueue.forEach(function(t){if(t.el===e.target){if(t.state.loaded)return i._observer.unobserve(t.el);t.load()}})})}},{key:"_elRenderer",value:function(t,e,i){if(t.el){var n=t.el,s=t.bindType,r=void 0;switch(e){case"loading":r=t.loading;break;case"error":r=t.error;break;default:r=t.src}if(s?n.style[s]='url("'+r+'")':n.getAttribute("src")!==r&&n.setAttribute("src",r),n.setAttribute("lazy",e),this.$emit(e,t,i),this.options.adapter[e]&&this.options.adapter[e](t,this.options),this.options.dispatchEvent){var o=new _(e,{detail:t});n.dispatchEvent(o)}}}},{key:"_valueFormatter",value:function(t){var e=t,i=this.options.loading,n=this.options.error;return function(t){return null!==t&&"object"===(void 0===t?"undefined":c(t))}(t)&&(t.src||this.options.silent,e=t.src,i=t.loading||this.options.loading,n=t.error||this.options.error),{src:e,loading:i,error:n}}}]),v}()},E=function(){function i(t){var e=t.lazy;m(this,i),((this.lazy=e).lazyContainerMananger=this)._queue=[]}return t(i,[{key:"bind",value:function(t,e,i){var n=new $({el:t,binding:e,vnode:i,lazy:this.lazy});this._queue.push(n)}},{key:"update",value:function(e,t,i){var n=u(this._queue,function(t){return t.el===e});n&&n.update({el:e,binding:t,vnode:i})}},{key:"unbind",value:function(e,t,i){var n=u(this._queue,function(t){return t.el===e});n&&(n.clear(),r(this._queue,n))}}]),i}(),B={selector:"img"},$=function(){function r(t){var e=t.el,i=t.binding,n=t.vnode,s=t.lazy;m(this,r),this.el=null,this.vnode=n,this.binding=i,this.options={},this.lazy=s,this._queue=[],this.update({el:e,binding:i})}return t(r,[{key:"update",value:function(t){var e=this,i=t.el,n=t.binding;this.el=i,this.options=g({},B,n.value),this.getImgs().forEach(function(t){e.lazy.add(t,g({},e.binding,{value:{src:"dataset"in t?t.dataset.src:t.getAttribute("data-src"),error:"dataset"in t?t.dataset.error:t.getAttribute("data-error"),loading:"dataset"in t?t.dataset.loading:t.getAttribute("data-loading")}}),e.vnode)})}},{key:"getImgs",value:function(){return function(t){for(var e=t.length,i=[],n=0;n<e;n++)i.push(t[n]);return i}(this.el.querySelectorAll(this.options.selector))}},{key:"clear",value:function(){var e=this;this.getImgs().forEach(function(t){return e.lazy.remove(t)}),this.vnode=null,this.binding=null,this.lazy=null}}]),r}();return{install:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=D(t),n=new i(e),s=new E({lazy:n}),r="2"===t.version.split(".")[0];t.prototype.$Lazyload=n,e.lazyComponent&&t.component("lazy-component",function(t){return{props:{tag:{type:String,default:"div"}},render:function(t){return!1===this.show?t(this.tag):t(this.tag,null,this.$slots.default)},data:function(){return{el:null,state:{loaded:!1},rect:{},show:!1}},mounted:function(){this.el=this.$el,t.addLazyBox(this),t.lazyLoadHandler()},beforeDestroy:function(){t.removeComponent(this)},methods:{getRect:function(){this.rect=this.$el.getBoundingClientRect()},checkInView:function(){return this.getRect(),y&&this.rect.top<window.innerHeight*t.options.preLoad&&0<this.rect.bottom&&this.rect.left<window.innerWidth*t.options.preLoad&&0<this.rect.right},load:function(){this.show=!0,this.state.loaded=!0,this.$emit("show",this)}}}}(n)),e.lazyImage&&t.component("lazy-image",function(s){return{props:{src:[String,Object],tag:{type:String,default:"img"}},render:function(t){return t(this.tag,{attrs:{src:this.renderSrc}},this.$slots.default)},data:function(){return{el:null,options:{src:"",error:"",loading:"",attempt:s.options.attempt},state:{loaded:!1,error:!1,attempt:0},rect:{},renderSrc:""}},watch:{src:function(){this.init(),s.addLazyBox(this),s.lazyLoadHandler()}},created:function(){this.init(),this.renderSrc=this.options.loading},mounted:function(){this.el=this.$el,s.addLazyBox(this),s.lazyLoadHandler()},beforeDestroy:function(){s.removeComponent(this)},methods:{init:function(){var t=s._valueFormatter(this.src),e=t.src,i=t.loading,n=t.error;this.state.loaded=!1,this.options.src=e,this.options.error=n,this.options.loading=i,this.renderSrc=this.options.loading},getRect:function(){this.rect=this.$el.getBoundingClientRect()},checkInView:function(){return this.getRect(),y&&this.rect.top<window.innerHeight*s.options.preLoad&&0<this.rect.bottom&&this.rect.left<window.innerWidth*s.options.preLoad&&0<this.rect.right},load:function(){var i=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:p;if(this.state.attempt>this.options.attempt-1&&this.state.error)return s.options.silent,void t();var e=this.options.src;w({src:e},function(t){var e=t.src;i.renderSrc=e,i.state.loaded=!0},function(t){i.state.attempt++,i.renderSrc=i.options.error,i.state.error=!0})}}}}(n)),r?(t.directive("lazy",{bind:n.add.bind(n),update:n.update.bind(n),componentUpdated:n.lazyLoadHandler.bind(n),unbind:n.remove.bind(n)}),t.directive("lazy-container",{bind:s.bind.bind(s),update:s.update.bind(s),unbind:s.unbind.bind(s)})):(t.directive("lazy",{bind:n.lazyLoadHandler.bind(n),update:function(t,e){g(this.vm.$refs,this.vm.$els),n.add(this.el,{modifiers:this.modifiers||{},arg:this.arg,value:t,oldValue:e},{context:this.vm})},unbind:function(){n.remove(this.el)}}),t.directive("lazy-container",{update:function(t,e){s.update(this.el,{modifiers:this.modifiers||{},arg:this.arg,value:t,oldValue:e},{context:this.vm})},unbind:function(){s.unbind(this.el)}}))}}}()},67:function(t,e,i){},68:function(t,e,i){},7:function(t,e,i){"use strict";i.d(e,"a",function(){return n});var n={data:function(){return{direction:""}},methods:{touchStart:function(t){this.resetTouchStatus(),this.startX=t.touches[0].clientX,this.startY=t.touches[0].clientY},touchMove:function(t){var e=t.touches[0];this.deltaX=e.clientX-this.startX,this.deltaY=e.clientY-this.startY,this.offsetX=Math.abs(this.deltaX),this.offsetY=Math.abs(this.deltaY),this.direction=this.direction||function(t,e){return e<t&&10<t?"horizontal":t<e&&10<e?"vertical":""}(this.offsetX,this.offsetY)},resetTouchStatus:function(){this.direction="",this.deltaX=0,this.deltaY=0,this.offsetX=0,this.offsetY=0}}}},8:function(t,e,i){"use strict";function n(){return(n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t}).apply(this,arguments)}i.d(e,"a",function(){return n})},93:function(t,e,i){t.exports=i.p+"img/couponNoData1.png"},94:function(t,e,i){"use strict";var n=i(31);i.n(n).a}});